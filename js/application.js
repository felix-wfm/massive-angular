!function(){}("undefined"==typeof appConfig?this.appConfig={}:appConfig),angular.module("app",["ui.router","hljs","tg.common","tg.extensions","tg.components"]),angular.module("tg.common",[]),angular.module("tg.extensions",[]),angular.module("tg.components",[]),angular.module("app").config(["$logProvider",function(e){"use strict";e.debugEnabled(!0)}]),angular.module("app").config(["$stateProvider","$urlRouterProvider",function(e,t){"use strict";t.otherwise("/"),e.state("home",{url:"/",templateUrl:"./view/home/index.html",controller:"HomeController"}).state("extensions",{url:"/extensions",templateUrl:"./view/extensions/index.html"}).state("extensions.tgComponents",{url:"/tgComponents",templateUrl:"./view/extensions/tgComponents.html",controller:"ComponentsController"}).state("components",{url:"/components",templateUrl:"./view/components/index.html"}).state("components.tgTypeahead",{url:"/tgTypeahead",templateUrl:"./view/components/tgTypeahead.html",controller:"TypeaheadController"}).state("components.tgDropdown",{url:"/tgDropdown",templateUrl:"./view/components/tgDropdown.html",controller:"DropdownController"}).state("components.tgTabset",{url:"/tgTabset",templateUrl:"./view/components/tgTabset.html",controller:"TabsetController"}).state("components.tgTerritory",{url:"/tgTerritory",templateUrl:"./view/components/tgTerritory.html",controller:"TerritoryController"})}]),function(){"use strict";function e(){function e(e,t){return Object.prototype.toString.call(e)===t}function t(t){return e(t,"[object Object]")}function a(t){return e(t,"[object Array]")}function r(t){return e(t,"[object Function]")}function i(e,i){if(e&&r(i))if(a(e))for(var o=0,n=e.length;n>o;o++)i(e[o],o,e);else if(t(e))for(var d in e)e.hasOwnProperty(d)&&i(e[d],d,e)}function o(e,i,o){if(e&&r(i)){var n;if(a(e)){for(var d=0,c=e.length;c>d;d++)if(n=i(e[d],d,e),void 0!==n)return n}else if(t(e))for(var l in e)if(e.hasOwnProperty(l)&&(n=i(e[l],l,e),void 0!==n))return n}return o}function n(e,t,r){var i=[];return o(e,function(o,n){var d=t(o,n,e);void 0!==d&&(a(d)?d.forEach(function(e){r&&-1!==i.indexOf(e)||i.push(e)}):r&&-1!==i.indexOf(d)||i.push(d))}),i}function d(e){return!a(e)||0===e.length}function c(e,t){return!d(e)&&e.indexOf(t)>-1}return{isObject:t,isArray:a,isFunction:r,forEach:i,each:o,select:n,empty:d,has:c}}angular.module("tg.components").factory("utilities",e),e.$inject=[]}(),function(){"use strict";function e(e){e.toJson=function(e){return angular.toJson(e,!0)}}angular.module("tg.common").controller("AppController",e),e.$inject=["$scope"]}(),function(){"use strict";angular.module("tg.common").directive("codeHighlight",["$compile",function(e){return{restrict:"A",scope:!1,priority:9999,compile:function(t,a){function r(t){if(o){var a=t.$new();a.source=d;var r=$(o);r.attr("hljs",""),r.attr("source","source"),r.attr("language",n||""),e(r)(a)}}for(var i,o=a.codeHighlightSelector,n=a.codeHighlight,d=t.get(0).innerHTML,c="",l=0,p=d.length,s=0,u=0;p>l;l++)if(i=d.charCodeAt(l),10===i)c+="\n",s=0;else{if(32!==i){if(s>0)for(0===u?u=s:s-=u;s-->0;)c+=" ";s=-1}else-1!==s&&s++;-1===s&&(c+=d[l])}return d=c.trim(),{pre:r,post:null}}}}])}(),function(){"use strict";function e(e){return function(t){return e.trustAsHtml(t)}}angular.module("tg.common").filter("tgTrustedHtml",e),e.$inject=["$sce"]}(),function(){"use strict";function e(e){function t(){var t=e.defer();return t.resolve(a),t.promise}var a=[{id:4,code:"AF",name:"Afghanistan"},{id:8,code:"AL",name:"Albania"},{id:12,code:"DZ",name:"Algeria"},{id:20,code:"AD",name:"Andorra"},{id:24,code:"AO",name:"Angola"},{id:28,code:"AG",name:"Antigua and Barbuda"},{id:31,code:"AZ",name:"Azerbaijan"},{id:32,code:"AR",name:"Argentina"},{id:36,code:"AU",name:"Australia"},{id:40,code:"AT",name:"Austria"},{id:44,code:"BS",name:"Bahamas"},{id:48,code:"BH",name:"Bahrain"},{id:50,code:"BD",name:"Bangladesh"},{id:51,code:"AM",name:"Armenia"},{id:52,code:"BB",name:"Barbados"},{id:56,code:"BE",name:"Belgium"},{id:64,code:"BT",name:"Bhutan"},{id:68,code:"BO",name:"Bolivia"},{id:70,code:"BA",name:"Bosnia and Herzegovina"},{id:72,code:"BW",name:"Botswana"},{id:76,code:"BR",name:"Brazil"},{id:84,code:"BZ",name:"Belize"},{id:90,code:"SB",name:"Solomon Islands"},{id:96,code:"BN",name:"Brunei Darussalam"},{id:100,code:"BG",name:"Bulgaria"},{id:104,code:"MM",name:"Myanmar"},{id:108,code:"BI",name:"Burundi"},{id:112,code:"BY",name:"Belarus"},{id:116,code:"KH",name:"Cambodia"},{id:120,code:"CM",name:"Cameroon"},{id:124,code:"CA",name:"Canada"},{id:132,code:"CV",name:"Cape Verde"},{id:140,code:"CF",name:"Central African Republic"},{id:144,code:"LK",name:"Sri Lanka"},{id:148,code:"TD",name:"Chad"},{id:152,code:"CL",name:"Chile"},{id:156,code:"CN",name:"China"},{id:158,code:"TW",name:"Taiwan"},{id:170,code:"CO",name:"Colombia"},{id:174,code:"KM",name:"Comoros"},{id:178,code:"CG",name:"Congo"},{id:180,code:"CD",name:"Democratic Republic of the Congo"},{id:188,code:"CR",name:"Costa Rica"},{id:191,code:"HR",name:"Croatia"},{id:192,code:"CU",name:"Cuba"},{id:196,code:"CY",name:"Cyprus"},{id:203,code:"CZ",name:"Czech Republic"},{id:204,code:"BJ",name:"Benin"},{id:208,code:"DK",name:"Denmark"},{id:212,code:"DM",name:"Dominica"},{id:214,code:"DO",name:"Dominican Republic"},{id:218,code:"EC",name:"Ecuador"},{id:222,code:"SV",name:"El Salvador"},{id:226,code:"GQ",name:"Equatorial Guinea"},{id:231,code:"ET",name:"Ethiopia"},{id:232,code:"ER",name:"Eritrea"},{id:233,code:"EE",name:"Estonia"},{id:242,code:"FJ",name:"Fiji"},{id:246,code:"FI",name:"Finland"},{id:250,code:"FR",name:"France"},{id:258,code:"PF",name:"French Polynesia"},{id:262,code:"DJ",name:"Djibouti"},{id:266,code:"GA",name:"Gabon"},{id:268,code:"GE",name:"Georgia"},{id:270,code:"GM",name:"Gambia"},{id:276,code:"DE",name:"Germany"},{id:288,code:"GH",name:"Ghana"},{id:296,code:"KI",name:"Kiribati"},{id:300,code:"GR",name:"Greece"},{id:308,code:"GD",name:"Grenada"},{id:320,code:"GT",name:"Guatemala"},{id:324,code:"GN",name:"Guinea"},{id:328,code:"GY",name:"Guyana"},{id:332,code:"HT",name:"Haiti"},{id:336,code:"VA",name:"Holy See (Vatican City State)"},{id:340,code:"HN",name:"Honduras"},{id:344,code:"HK",name:"Hong Kong"},{id:348,code:"HU",name:"Hungary"},{id:352,code:"IS",name:"Iceland"},{id:356,code:"IN",name:"India"},{id:360,code:"ID",name:"Indonesia"},{id:364,code:"IR",name:"Iran"},{id:368,code:"IQ",name:"Iraq"},{id:372,code:"IE",name:"Ireland"},{id:376,code:"IL",name:"Israel"},{id:380,code:"IT",name:"Italy"},{id:384,code:"CI",name:"Cote D'ivoire"},{id:388,code:"JM",name:"Jamaica"},{id:392,code:"JP",name:"Japan"},{id:398,code:"KZ",name:"Kazakhstan"},{id:400,code:"JO",name:"Jordan"},{id:404,code:"KE",name:"Kenya"},{id:408,code:"KP",name:"North Korea"},{id:410,code:"KR",name:"South Korea"},{id:414,code:"KW",name:"Kuwait"},{id:417,code:"KG",name:"Kyrgyzstan"},{id:418,code:"LA",name:"Lao People's Democratic Republic"},{id:422,code:"LB",name:"Lebanon"},{id:426,code:"LS",name:"Lesotho"},{id:428,code:"LV",name:"Latvia"},{id:430,code:"LR",name:"Liberia"},{id:434,code:"LY",name:"Libya"},{id:438,code:"LI",name:"Liechtenstein"},{id:440,code:"LT",name:"Lithuania"},{id:442,code:"LU",name:"Luxembourg"},{id:450,code:"MG",name:"Madagascar"},{id:454,code:"MW",name:"Malawi"},{id:458,code:"MY",name:"Malaysia"},{id:462,code:"MV",name:"Maldives"},{id:466,code:"ML",name:"Mali"},{id:470,code:"MT",name:"Malta"},{id:478,code:"MR",name:"Mauritania"},{id:480,code:"MU",name:"Mauritius"},{id:484,code:"MX",name:"Mexico"},{id:492,code:"MC",name:"Monaco"},{id:496,code:"MN",name:"Mongolia"},{id:498,code:"MD",name:"Moldova"},{id:499,code:"ME",name:"Montenegro"},{id:504,code:"MA",name:"Morocco"},{id:508,code:"MZ",name:"Mozambique"},{id:512,code:"OM",name:"Oman"},{id:516,code:"NA",name:"Namibia"},{id:520,code:"NR",name:"Nauru"},{id:524,code:"NP",name:"Nepal"},{id:528,code:"NL",name:"Netherlands"},{id:540,code:"NC",name:"New Caledonia"},{id:548,code:"VU",name:"Vanuatu"},{id:554,code:"NZ",name:"New Zealand"},{id:558,code:"NI",name:"Nicaragua"},{id:562,code:"NE",name:"Niger"},{id:566,code:"NG",name:"Nigeria"},{id:578,code:"NO",name:"Norway"},{id:583,code:"FM",name:"Micronesia"},{id:584,code:"MH",name:"Marshall Islands"},{id:585,code:"PW",name:"Palau"},{id:586,code:"PK",name:"Pakistan"},{id:591,code:"PA",name:"Panama"},{id:598,code:"PG",name:"Papua New Guinea"},{id:600,code:"PY",name:"Paraguay"},{id:604,code:"PE",name:"Peru"},{id:608,code:"PH",name:"Philippines"},{id:616,code:"PL",name:"Poland"},{id:620,code:"PT",name:"Portugal"},{id:624,code:"GW",name:"Guinea-Bissau"},{id:626,code:"TL",name:"Timor-Leste"},{id:630,code:"PR",name:"Puerto Rico"},{id:634,code:"QA",name:"Qatar"},{id:642,code:"RO",name:"Romania"},{id:643,code:"RU",name:"Russian Federation"},{id:646,code:"RW",name:"Rwanda"},{id:659,code:"KN",name:"Saint Kitts and Nevis"},{id:662,code:"LC",name:"Saint Lucia"},{id:670,code:"VC",name:"Saint Vincent and the Grenadines"},{id:674,code:"SM",name:"San Marino"},{id:678,code:"ST",name:"Sao Tome and Principe"},{id:682,code:"SA",name:"Saudi Arabia"},{id:686,code:"SN",name:"Senegal"},{id:688,code:"RS",name:"Serbia"},{id:690,code:"SC",name:"Seychelles"},{id:694,code:"SL",name:"Sierra Leone"},{id:702,code:"SG",name:"Singapore"},{id:703,code:"SK",name:"Slovakia"},{id:704,code:"VN",name:"Viet Nam"},{id:705,code:"SI",name:"Slovenia"},{id:706,code:"SO",name:"Somalia"},{id:710,code:"ZA",name:"South Africa"},{id:716,code:"ZW",name:"Zimbabwe"},{id:724,code:"ES",name:"Spain"},{id:728,code:"SS",name:"South Sudan"},{id:729,code:"SD",name:"Sudan"},{id:732,code:"EH",name:"Western Sahara"},{id:740,code:"SR",name:"Suriname"},{id:748,code:"SZ",name:"Swaziland"},{id:752,code:"SE",name:"Sweden"},{id:756,code:"CH",name:"Switzerland"},{id:760,code:"SY",name:"Syrian Arab Republic"},{id:762,code:"TJ",name:"Tajikistan"},{id:764,code:"TH",name:"Thailand"},{id:768,code:"TG",name:"Togo"},{id:776,code:"TO",name:"Tonga"},{id:780,code:"TT",name:"Trinidad and Tobago"},{id:784,code:"AE",name:"United Arab Emirates"},{id:788,code:"TN",name:"Tunisia"},{id:792,code:"TR",name:"Turkey"},{id:795,code:"TM",name:"Turkmenistan"},{id:798,code:"TV",name:"Tuvalu"},{id:800,code:"UG",name:"Uganda"},{id:804,code:"UA",name:"Ukraine"},{id:807,code:"MK",name:"Macedonia"},{id:818,code:"EG",name:"Egypt"},{id:826,code:"GB",name:"United Kingdom"},{id:834,code:"TZ",name:"Tanzania"},{id:840,code:"US",name:"United States"},{id:854,code:"BF",name:"Burkina Faso"},{id:858,code:"UY",name:"Uruguay"},{id:860,code:"UZ",name:"Uzbekistan"},{id:862,code:"VE",name:"Venezuela"},{id:882,code:"WS",name:"Samoa"},{id:887,code:"YE",name:"Yemen"},{id:894,code:"ZM",name:"Zambia"}];return{getCountries:t}}angular.module("tg.common").service("DataService",e),e.$inject=["$q"]}(),angular.module("app").controller("DropdownController",["$scope",function(){"use strict"}]),angular.module("app").controller("TerritoryController",["$scope",function(e){"use strict";e.source={data:{clusters:[{id:1e4,type:"CONTINENT",active:!0,title:"Europe",territory_count:45,territory_ids:[70,203,336,276,8,470,196,616,348,674,620,826,804,703,807,20,752,208,756,688,440,372,100,578,442,233,705,380,40,438,643,498,499,642,492,250,352,528,191,428,112,246,56,724,300],alphanumeric_code:"",ext_alphanumeric_code:""},{id:10003,type:"CONTINENT",active:!0,title:"Asia",territory_count:48,territory_ids:[410,608,408,4,414,64,682,887,400,344,702,762,462,626,760,392,156,458,398,158,764,144,634,31,268,512,368,96,784,524,704,586,496,795,376,104,792,860,356,51,50,48,116,364,417,418,360,422],alphanumeric_code:"",ext_alphanumeric_code:""},{id:10002,type:"CONTINENT",active:!0,title:"Africa",territory_count:55,territory_ids:[686,140,818,678,12,132,404,566,800,262,562,266,694,24,384,690,148,270,516,788,174,434,646,288,426,768,430,178,180,478,204,748,466,72,894,324,624,454,450,508,504,716,854,232,231,108,706,226,710,728,834,729,732,480,120],alphanumeric_code:"",ext_alphanumeric_code:""},{id:10001,type:"CONTINENT",active:!0,title:"Australia and Oceania",territory_count:16,territory_ids:[548,882,36,583,584,585,798,520,554,258,598,296,540,242,776,90],alphanumeric_code:"",ext_alphanumeric_code:""},{id:10005,type:"CONTINENT",active:!0,title:"North America",territory_count:24,territory_ids:[340,308,558,192,44,591,84,670,222,630,188,320,52,212,484,780,214,840,332,662,124,28,388,659],alphanumeric_code:"",ext_alphanumeric_code:""},{id:10004,type:"CONTINENT",active:!0,title:"South America",territory_count:12,territory_ids:[68,152,170,32,218,76,600,858,604,862,328,740],alphanumeric_code:"",ext_alphanumeric_code:""}],true_clusters:[{id:2103,type:"CLUSTER",active:!0,title:"Antilles",territory_count:13,territory_ids:[308,192,670,630,52,212,662,332,780,214,28,388,659],alphanumeric_code:"2AN",ext_alphanumeric_code:""},{id:2122,type:"CLUSTER",active:!0,title:"European Continent",territory_count:40,territory_ids:[70,203,276,336,8,616,348,674,620,804,703,807,20,752,208,756,688,440,100,578,442,233,705,380,40,438,643,498,499,642,492,250,528,191,428,112,246,56,724,300],alphanumeric_code:"2EC",ext_alphanumeric_code:""},{id:2127,type:"CLUSTER",active:!0,title:"Nordic Countries",territory_count:5,territory_ids:[578,352,246,752,208],alphanumeric_code:"2NC",ext_alphanumeric_code:""},{id:2113,type:"CLUSTER",active:!0,title:"Central America",territory_count:7,territory_ids:[84,222,340,188,320,558,591],alphanumeric_code:"2CA",ext_alphanumeric_code:""},{id:2107,type:"CLUSTER",active:!0,title:"Australasia",territory_count:6,territory_ids:[548,36,540,554,242,90],alphanumeric_code:"2AA",ext_alphanumeric_code:""},{id:2124,type:"CLUSTER",active:!0,title:"GSA Countries",territory_count:3,territory_ids:[276,40,756],alphanumeric_code:"2GC",ext_alphanumeric_code:""},{id:2133,type:"CLUSTER",active:!0,title:"South East Asia",territory_count:11,territory_ids:[702,626,608,116,458,96,764,704,418,360,104],alphanumeric_code:"2SE",ext_alphanumeric_code:""},{id:2131,type:"CLUSTER",active:!0,title:"Scandinavia",territory_count:3,territory_ids:[578,752,208],alphanumeric_code:"2SC",ext_alphanumeric_code:""},{id:2119,type:"CLUSTER",active:!0,title:"Eastern Europe",territory_count:14,territory_ids:[804,440,703,100,428,233,203,112,8,616,348,643,498,642],alphanumeric_code:"2EE",ext_alphanumeric_code:""},{id:2109,type:"CLUSTER",active:!0,title:"Baltic States",territory_count:3,territory_ids:[440,428,233],alphanumeric_code:"2BS",ext_alphanumeric_code:""},{id:2102,type:"CLUSTER",active:!0,title:"American Continent",territory_count:22,territory_ids:[68,170,32,340,76,558,858,862,740,591,152,84,222,218,320,188,484,600,840,124,604,328],alphanumeric_code:"2AC",ext_alphanumeric_code:""},{id:2125,type:"CLUSTER",active:!0,title:"Middle East",territory_count:19,territory_ids:[64,414,512,4,368,682,887,784,524,586,400,496,356,50,462,48,364,144,634],alphanumeric_code:"2ME",ext_alphanumeric_code:""},{id:2101,type:"CLUSTER",active:!0,title:"America",territory_count:36,territory_ids:[68,340,558,76,192,740,152,84,222,630,320,218,212,214,332,28,328,388,170,32,308,858,862,44,591,670,188,52,484,600,662,840,780,124,604,659],alphanumeric_code:"2AM",ext_alphanumeric_code:""},{id:2128,type:"CLUSTER",active:!0,title:"North Africa",territory_count:5,territory_ids:[788,504,818,434,12],alphanumeric_code:"2NF",ext_alphanumeric_code:""},{id:2108,type:"CLUSTER",active:!0,title:"Balkans",territory_count:10,territory_ids:[100,70,807,191,8,705,300,688,642,499],alphanumeric_code:"2BA",ext_alphanumeric_code:""},{id:2134,type:"CLUSTER",active:!0,title:"West Indies",territory_count:14,territory_ids:[308,192,44,670,630,52,212,662,332,780,214,28,388,659],alphanumeric_code:"2WI",ext_alphanumeric_code:""},{id:2111,type:"CLUSTER",active:!0,title:"British Isles",territory_count:2,territory_ids:[372,826],alphanumeric_code:"2BI",ext_alphanumeric_code:""}],countries:[{id:120,type:"COUNTRY",active:!0,title:"Cameroon",territory_count:0,territory_ids:[],alphanumeric_code:"CM",ext_alphanumeric_code:"CMR"},{id:340,type:"COUNTRY",active:!0,title:"Honduras",territory_count:0,territory_ids:[],alphanumeric_code:"HN",ext_alphanumeric_code:"HND"},{id:604,type:"COUNTRY",active:!0,title:"Peru",territory_count:0,territory_ids:[],alphanumeric_code:"PE",ext_alphanumeric_code:"PER"},{id:56,type:"COUNTRY",active:!0,title:"Belgium",territory_count:0,territory_ids:[],alphanumeric_code:"BE",ext_alphanumeric_code:"BEL"},{id:690,type:"COUNTRY",active:!0,title:"Seychelles",territory_count:0,territory_ids:[],alphanumeric_code:"SC",ext_alphanumeric_code:"SYC"},{id:392,type:"COUNTRY",active:!0,title:"Japan",territory_count:0,territory_ids:[],alphanumeric_code:"JP",ext_alphanumeric_code:"JPN"},{id:300,type:"COUNTRY",active:!0,title:"Greece",territory_count:0,territory_ids:[],alphanumeric_code:"GR",ext_alphanumeric_code:"GRC"},{id:674,type:"COUNTRY",active:!0,title:"San Marino",territory_count:0,territory_ids:[],alphanumeric_code:"SM",ext_alphanumeric_code:"SMR"},{id:860,type:"COUNTRY",active:!0,title:"Uzbekistan",territory_count:0,territory_ids:[],alphanumeric_code:"UZ",ext_alphanumeric_code:"UZB"},{id:266,type:"COUNTRY",active:!0,title:"Gabon",territory_count:0,territory_ids:[],alphanumeric_code:"GA",ext_alphanumeric_code:"GAB"},{id:72,type:"COUNTRY",active:!0,title:"Botswana",territory_count:0,territory_ids:[],alphanumeric_code:"BW",ext_alphanumeric_code:"BWA"},{id:214,type:"COUNTRY",active:!0,title:"Dominican Republic",territory_count:0,territory_ids:[],alphanumeric_code:"DO",ext_alphanumeric_code:"DOM"},{id:858,type:"COUNTRY",active:!0,title:"Uruguay",territory_count:0,territory_ids:[],alphanumeric_code:"UY",ext_alphanumeric_code:"URY"},{id:158,type:"COUNTRY",active:!0,title:"Taiwan",territory_count:0,territory_ids:[],alphanumeric_code:"TW",ext_alphanumeric_code:"TWN"},{id:470,type:"COUNTRY",active:!0,title:"Malta",territory_count:0,territory_ids:[],alphanumeric_code:"MT",ext_alphanumeric_code:"MLT"},{id:528,type:"COUNTRY",active:!0,title:"Netherlands",territory_count:0,territory_ids:[],alphanumeric_code:"NL",ext_alphanumeric_code:"NLD"},{id:788,type:"COUNTRY",active:!0,title:"Tunisia",territory_count:0,territory_ids:[],alphanumeric_code:"TN",ext_alphanumeric_code:"TUN"},{id:233,type:"COUNTRY",active:!0,title:"Estonia",territory_count:0,territory_ids:[],alphanumeric_code:"EE",ext_alphanumeric_code:"EST"},{id:600,type:"COUNTRY",active:!0,title:"Paraguay",territory_count:0,territory_ids:[],alphanumeric_code:"PY",ext_alphanumeric_code:"PRY"},{id:585,type:"COUNTRY",active:!0,title:"Palau",territory_count:0,territory_ids:[],alphanumeric_code:"PW",ext_alphanumeric_code:"PLW"},{id:458,type:"COUNTRY",active:!0,title:"Malaysia",territory_count:0,territory_ids:[],alphanumeric_code:"MY",ext_alphanumeric_code:"MYS"},{id:682,type:"COUNTRY",active:!0,title:"Saudi Arabia",territory_count:0,territory_ids:[],alphanumeric_code:"SA",ext_alphanumeric_code:"SAU"},{id:428,type:"COUNTRY",active:!0,title:"Latvia",territory_count:0,territory_ids:[],alphanumeric_code:"LV",ext_alphanumeric_code:"LVA"},{id:608,type:"COUNTRY",active:!0,title:"Philippines",territory_count:0,territory_ids:[],alphanumeric_code:"PH",ext_alphanumeric_code:"PHL"},{id:404,type:"COUNTRY",active:!0,title:"Kenya",territory_count:0,territory_ids:[],alphanumeric_code:"KE",ext_alphanumeric_code:"KEN"},{id:232,type:"COUNTRY",active:!0,title:"Eritrea",territory_count:0,territory_ids:[],alphanumeric_code:"ER",ext_alphanumeric_code:"ERI"},{id:108,type:"COUNTRY",active:!0,title:"Burundi",territory_count:0,territory_ids:[],alphanumeric_code:"BI",ext_alphanumeric_code:"BDI"},{id:170,type:"COUNTRY",active:!0,title:"Colombia",territory_count:0,territory_ids:[],alphanumeric_code:"CO",ext_alphanumeric_code:"COL"},{id:208,type:"COUNTRY",active:!0,title:"Denmark",territory_count:0,territory_ids:[],alphanumeric_code:"DK",ext_alphanumeric_code:"DNK"},{id:84,type:"COUNTRY",active:!0,title:"Belize",territory_count:0,territory_ids:[],alphanumeric_code:"BZ",ext_alphanumeric_code:"BLZ"},{id:894,type:"COUNTRY",active:!0,title:"Zambia",territory_count:0,territory_ids:[],alphanumeric_code:"ZM",ext_alphanumeric_code:"ZMB"},{id:729,type:"COUNTRY",active:!0,title:"Sudan",territory_count:0,territory_ids:[],alphanumeric_code:"SD",ext_alphanumeric_code:"SDN"},{id:180,type:"COUNTRY",active:!0,title:"Democratic Republic of the Congo",territory_count:0,territory_ids:[],alphanumeric_code:"CD",ext_alphanumeric_code:"COD"},{id:368,type:"COUNTRY",active:!0,title:"Iraq",territory_count:0,territory_ids:[],alphanumeric_code:"IQ",ext_alphanumeric_code:"IRQ"},{id:196,type:"COUNTRY",active:!0,title:"Cyprus",territory_count:0,territory_ids:[],alphanumeric_code:"CY",ext_alphanumeric_code:"CYP"},{id:218,type:"COUNTRY",active:!0,title:"Ecuador",territory_count:0,territory_ids:[],alphanumeric_code:"EC",ext_alphanumeric_code:"ECU"},{id:262,type:"COUNTRY",active:!0,title:"Djibouti",territory_count:0,territory_ids:[],alphanumeric_code:"DJ",ext_alphanumeric_code:"DJI"},{id:288,type:"COUNTRY",active:!0,title:"Ghana",territory_count:0,territory_ids:[],alphanumeric_code:"GH",ext_alphanumeric_code:"GHA"},{id:492,type:"COUNTRY",active:!0,title:"Monaco",territory_count:0,territory_ids:[],alphanumeric_code:"MC",ext_alphanumeric_code:"MCO"},{id:356,type:"COUNTRY",active:!0,title:"India",territory_count:0,territory_ids:[],alphanumeric_code:"IN",ext_alphanumeric_code:"IND"},{id:48,type:"COUNTRY",active:!0,title:"Bahrain",territory_count:0,territory_ids:[],alphanumeric_code:"BH",ext_alphanumeric_code:"BHR"},{id:408,type:"COUNTRY",active:!0,title:"North Korea",territory_count:0,territory_ids:[],alphanumeric_code:"KP",ext_alphanumeric_code:"PRK"},{id:728,type:"COUNTRY",active:!0,title:"South Sudan",territory_count:0,territory_ids:[],alphanumeric_code:"SS",ext_alphanumeric_code:"SSD"},{id:372,type:"COUNTRY",active:!0,title:"Ireland",territory_count:0,territory_ids:[],alphanumeric_code:"IE",ext_alphanumeric_code:"IRL"},{id:748,type:"COUNTRY",active:!0,title:"Swaziland",territory_count:0,territory_ids:[],alphanumeric_code:"SZ",ext_alphanumeric_code:"SWZ"},{id:250,type:"COUNTRY",active:!0,title:"France",territory_count:0,territory_ids:[],alphanumeric_code:"FR",ext_alphanumeric_code:"FRA"},{id:192,type:"COUNTRY",active:!0,title:"Cuba",territory_count:0,territory_ids:[],alphanumeric_code:"CU",ext_alphanumeric_code:"CUB"},{id:566,type:"COUNTRY",active:!0,title:"Nigeria",territory_count:0,territory_ids:[],alphanumeric_code:"NG",ext_alphanumeric_code:"NGA"},{id:478,type:"COUNTRY",active:!0,title:"Mauritania",territory_count:0,territory_ids:[],alphanumeric_code:"MR",ext_alphanumeric_code:"MRT"},{id:124,type:"COUNTRY",active:!0,title:"Canada",territory_count:0,territory_ids:[],alphanumeric_code:"CA",ext_alphanumeric_code:"CAN"},{id:50,type:"COUNTRY",active:!0,title:"Bangladesh",territory_count:0,territory_ids:[],alphanumeric_code:"BD",ext_alphanumeric_code:"BGD"},{id:548,type:"COUNTRY",active:!0,title:"Vanuatu",territory_count:0,territory_ids:[],alphanumeric_code:"VU",ext_alphanumeric_code:"VUT"},{id:68,type:"COUNTRY",active:!0,title:"Bolivia",territory_count:0,territory_ids:[],alphanumeric_code:"BO",ext_alphanumeric_code:"BOL"},{id:344,type:"COUNTRY",active:!0,title:"Hong Kong",territory_count:0,territory_ids:[],alphanumeric_code:"HK",ext_alphanumeric_code:"HKG"},{id:70,type:"COUNTRY",active:!0,title:"Bosnia and Herzegovina",territory_count:0,territory_ids:[],alphanumeric_code:"BA",ext_alphanumeric_code:"BIH"},{id:438,type:"COUNTRY",active:!0,title:"Liechtenstein",territory_count:0,territory_ids:[],alphanumeric_code:"LI",ext_alphanumeric_code:"LIE"},{id:388,type:"COUNTRY",active:!0,title:"Jamaica",territory_count:0,territory_ids:[],alphanumeric_code:"JM",ext_alphanumeric_code:"JAM"},{id:624,type:"COUNTRY",active:!0,title:"Guinea-Bissau",territory_count:0,territory_ids:[],alphanumeric_code:"GW",ext_alphanumeric_code:"GNB"},{id:740,type:"COUNTRY",active:!0,title:"Suriname",territory_count:0,territory_ids:[],alphanumeric_code:"SR",ext_alphanumeric_code:"SUR"},{id:44,type:"COUNTRY",active:!0,title:"Bahamas",territory_count:0,territory_ids:[],alphanumeric_code:"BS",ext_alphanumeric_code:"BHS"},{id:100,type:"COUNTRY",active:!0,title:"Bulgaria",territory_count:0,territory_ids:[],alphanumeric_code:"BG",ext_alphanumeric_code:"BGR"},{id:504,type:"COUNTRY",active:!0,title:"Morocco",territory_count:0,territory_ids:[],alphanumeric_code:"MA",ext_alphanumeric_code:"MAR"},{id:764,type:"COUNTRY",active:!0,title:"Thailand",territory_count:0,territory_ids:[],alphanumeric_code:"TH",ext_alphanumeric_code:"THA"},{id:686,type:"COUNTRY",active:!0,title:"Senegal",territory_count:0,territory_ids:[],alphanumeric_code:"SN",ext_alphanumeric_code:"SEN"},{id:270,type:"COUNTRY",active:!0,title:"Gambia",territory_count:0,territory_ids:[],alphanumeric_code:"GM",ext_alphanumeric_code:"GMB"},{id:246,type:"COUNTRY",active:!0,title:"Finland",territory_count:0,territory_ids:[],alphanumeric_code:"FI",ext_alphanumeric_code:"FIN"},{id:780,type:"COUNTRY",active:!0,title:"Trinidad and Tobago",territory_count:0,territory_ids:[],alphanumeric_code:"TT",ext_alphanumeric_code:"TTO"},{id:104,type:"COUNTRY",active:!0,title:"Myanmar",territory_count:0,territory_ids:[],alphanumeric_code:"MM",ext_alphanumeric_code:"MMR"},{id:336,type:"COUNTRY",active:!0,title:"Holy See (Vatican City State)",territory_count:0,territory_ids:[],alphanumeric_code:"VA",ext_alphanumeric_code:"VAT"},{id:417,type:"COUNTRY",active:!0,title:"Kyrgyzstan",territory_count:0,territory_ids:[],alphanumeric_code:"KG",ext_alphanumeric_code:"KGZ"},{id:756,type:"COUNTRY",active:!0,title:"Switzerland",territory_count:0,territory_ids:[],alphanumeric_code:"CH",ext_alphanumeric_code:"CHE"},{id:646,type:"COUNTRY",active:!0,title:"Rwanda",territory_count:0,territory_ids:[],alphanumeric_code:"RW",ext_alphanumeric_code:"RWA"},{id:598,type:"COUNTRY",active:!0,title:"Papua New Guinea",territory_count:0,territory_ids:[],alphanumeric_code:"PG",ext_alphanumeric_code:"PNG"},{id:414,type:"COUNTRY",active:!0,title:"Kuwait",territory_count:0,territory_ids:[],alphanumeric_code:"KW",ext_alphanumeric_code:"KWT"},{id:586,type:"COUNTRY",active:!0,title:"Pakistan",territory_count:0,territory_ids:[],alphanumeric_code:"PK",ext_alphanumeric_code:"PAK"},{id:882,type:"COUNTRY",active:!0,title:"Samoa",territory_count:0,territory_ids:[],alphanumeric_code:"WS",ext_alphanumeric_code:"WSM"},{id:496,type:"COUNTRY",active:!0,title:"Mongolia",territory_count:0,territory_ids:[],alphanumeric_code:"MN",ext_alphanumeric_code:"MNG"},{id:706,type:"COUNTRY",active:!0,title:"Somalia",territory_count:0,territory_ids:[],alphanumeric_code:"SO",ext_alphanumeric_code:"SOM"},{id:242,type:"COUNTRY",active:!0,title:"Fiji",territory_count:0,territory_ids:[],alphanumeric_code:"FJ",ext_alphanumeric_code:"FJI"},{id:584,type:"COUNTRY",active:!0,title:"Marshall Islands",territory_count:0,territory_ids:[],alphanumeric_code:"MH",ext_alphanumeric_code:"MHL"},{id:398,type:"COUNTRY",active:!0,title:"Kazakhstan",territory_count:0,territory_ids:[],alphanumeric_code:"KZ",ext_alphanumeric_code:"KAZ"},{id:430,type:"COUNTRY",active:!0,title:"Liberia",territory_count:0,territory_ids:[],alphanumeric_code:"LR",ext_alphanumeric_code:"LBR"},{id:499,type:"COUNTRY",active:!0,title:"Montenegro",territory_count:0,territory_ids:[],alphanumeric_code:"ME",ext_alphanumeric_code:"MNE"},{id:591,type:"COUNTRY",active:!0,title:"Panama",territory_count:0,territory_ids:[],alphanumeric_code:"PA",ext_alphanumeric_code:"PAN"},{id:826,type:"COUNTRY",active:!0,title:"United Kingdom",territory_count:0,territory_ids:[],alphanumeric_code:"GB",ext_alphanumeric_code:"GBR"},{id:188,type:"COUNTRY",active:!0,title:"Costa Rica",territory_count:0,territory_ids:[],alphanumeric_code:"CR",ext_alphanumeric_code:"CRI"},{id:64,type:"COUNTRY",active:!0,title:"Bhutan",territory_count:0,territory_ids:[],alphanumeric_code:"BT",ext_alphanumeric_code:"BTN"},{id:31,type:"COUNTRY",active:!0,title:"Azerbaijan",territory_count:0,territory_ids:[],alphanumeric_code:"AZ",ext_alphanumeric_code:"AZE"},{id:222,type:"COUNTRY",active:!0,title:"El Salvador",territory_count:0,territory_ids:[],alphanumeric_code:"SV",ext_alphanumeric_code:"SLV"},{id:132,type:"COUNTRY",active:!0,title:"Cape Verde",territory_count:0,territory_ids:[],alphanumeric_code:"CV",ext_alphanumeric_code:"CPV"},{id:466,type:"COUNTRY",active:!0,title:"Mali",territory_count:0,territory_ids:[],alphanumeric_code:"ML",ext_alphanumeric_code:"MLI"},{id:620,type:"COUNTRY",active:!0,title:"Portugal",territory_count:0,territory_ids:[],alphanumeric_code:"PT",ext_alphanumeric_code:"PRT"},{id:462,type:"COUNTRY",active:!0,title:"Maldives",territory_count:0,territory_ids:[],alphanumeric_code:"MV",ext_alphanumeric_code:"MDV"},{id:76,type:"COUNTRY",active:!0,title:"Brazil",territory_count:0,territory_ids:[],alphanumeric_code:"BR",ext_alphanumeric_code:"BRA"},{id:96,type:"COUNTRY",active:!0,title:"Brunei Darussalam",territory_count:0,territory_ids:[],alphanumeric_code:"BN",ext_alphanumeric_code:"BRN"},{id:454,type:"COUNTRY",active:!0,title:"Malawi",territory_count:0,territory_ids:[],alphanumeric_code:"MW",ext_alphanumeric_code:"MWI"},{id:410,type:"COUNTRY",active:!0,title:"South Korea",territory_count:0,territory_ids:[],alphanumeric_code:"KR",ext_alphanumeric_code:"KOR"},{id:144,type:"COUNTRY",active:!0,title:"Sri Lanka",territory_count:0,territory_ids:[],alphanumeric_code:"LK",ext_alphanumeric_code:"LKA"},{id:212,type:"COUNTRY",active:!0,title:"Dominica",territory_count:0,territory_ids:[],alphanumeric_code:"DM",ext_alphanumeric_code:"DMA"},{id:616,type:"COUNTRY",active:!0,title:"Poland",territory_count:0,territory_ids:[],alphanumeric_code:"PL",ext_alphanumeric_code:"POL"},{id:540,type:"COUNTRY",active:!0,title:"New Caledonia",territory_count:0,territory_ids:[],alphanumeric_code:"NC",ext_alphanumeric_code:"NCL"},{id:51,type:"COUNTRY",active:!0,title:"Armenia",territory_count:0,territory_ids:[],alphanumeric_code:"AM",ext_alphanumeric_code:"ARM"},{id:384,type:"COUNTRY",active:!0,title:"Cote D'ivoire",territory_count:0,territory_ids:[],alphanumeric_code:"CI",ext_alphanumeric_code:"CIV"},{id:670,type:"COUNTRY",active:!0,title:"Saint Vincent and the Grenadines",territory_count:0,territory_ids:[],alphanumeric_code:"VC",ext_alphanumeric_code:"VCT"},{id:818,type:"COUNTRY",active:!0,title:"Egypt",territory_count:0,territory_ids:[],alphanumeric_code:"EG",ext_alphanumeric_code:"EGY"},{id:112,type:"COUNTRY",active:!0,title:"Belarus",territory_count:0,territory_ids:[],alphanumeric_code:"BY",ext_alphanumeric_code:"BLR"},{id:634,type:"COUNTRY",active:!0,title:"Qatar",territory_count:0,territory_ids:[],alphanumeric_code:"QA",ext_alphanumeric_code:"QAT"},{id:854,type:"COUNTRY",active:!0,title:"Burkina Faso",territory_count:0,territory_ids:[],alphanumeric_code:"BF",ext_alphanumeric_code:"BFA"},{id:484,type:"COUNTRY",active:!0,title:"Mexico",territory_count:0,territory_ids:[],alphanumeric_code:"MX",ext_alphanumeric_code:"MEX"},{id:792,type:"COUNTRY",active:!0,title:"Turkey",territory_count:0,territory_ids:[],alphanumeric_code:"TR",ext_alphanumeric_code:"TUR"},{id:558,type:"COUNTRY",active:!0,title:"Nicaragua",territory_count:0,territory_ids:[],alphanumeric_code:"NI",ext_alphanumeric_code:"NIC"},{id:418,type:"COUNTRY",active:!0,title:"Lao People's Democratic Republic",territory_count:0,territory_ids:[],alphanumeric_code:"LA",ext_alphanumeric_code:"LAO"},{id:798,type:"COUNTRY",active:!0,title:"Tuvalu",territory_count:0,territory_ids:[],alphanumeric_code:"TV",ext_alphanumeric_code:"TUV"},{id:32,type:"COUNTRY",active:!0,title:"Argentina",territory_count:0,territory_ids:[],alphanumeric_code:"AR",ext_alphanumeric_code:"ARG"},{id:152,type:"COUNTRY",active:!0,title:"Chile",territory_count:0,territory_ids:[],alphanumeric_code:"CL",ext_alphanumeric_code:"CHL"},{id:174,type:"COUNTRY",active:!0,title:"Comoros",territory_count:0,territory_ids:[],alphanumeric_code:"KM",ext_alphanumeric_code:"COM"},{id:762,type:"COUNTRY",active:!0,title:"Tajikistan",territory_count:0,territory_ids:[],alphanumeric_code:"TJ",ext_alphanumeric_code:"TJK"},{id:422,type:"COUNTRY",active:!0,title:"Lebanon",territory_count:0,territory_ids:[],alphanumeric_code:"LB",ext_alphanumeric_code:"LBN"},{id:512,type:"COUNTRY",active:!0,title:"Oman",territory_count:0,territory_ids:[],alphanumeric_code:"OM",ext_alphanumeric_code:"OMN"},{id:8,type:"COUNTRY",active:!0,title:"Albania",territory_count:0,territory_ids:[],alphanumeric_code:"AL",ext_alphanumeric_code:"ALB"},{id:694,type:"COUNTRY",active:!0,title:"Sierra Leone",territory_count:0,territory_ids:[],alphanumeric_code:"SL",ext_alphanumeric_code:"SLE"},{id:426,type:"COUNTRY",active:!0,title:"Lesotho",territory_count:0,territory_ids:[],alphanumeric_code:"LS",ext_alphanumeric_code:"LSO"},{id:276,type:"COUNTRY",active:!0,title:"Germany",territory_count:0,territory_ids:[],alphanumeric_code:"DE",ext_alphanumeric_code:"DEU"},{id:630,type:"COUNTRY",active:!0,title:"Puerto Rico",territory_count:0,territory_ids:[],alphanumeric_code:"PR",ext_alphanumeric_code:"PRI"},{id:442,type:"COUNTRY",active:!0,title:"Luxembourg",territory_count:0,territory_ids:[],alphanumeric_code:"LU",ext_alphanumeric_code:"LUX"},{id:862,type:"COUNTRY",active:!0,title:"Venezuela",territory_count:0,territory_ids:[],alphanumeric_code:"VE",ext_alphanumeric_code:"VEN"},{id:148,type:"COUNTRY",active:!0,title:"Chad",territory_count:0,territory_ids:[],alphanumeric_code:"TD",ext_alphanumeric_code:"TCD"},{id:434,type:"COUNTRY",active:!0,title:"Libya",territory_count:0,territory_ids:[],alphanumeric_code:"LY",ext_alphanumeric_code:"LBY"},{id:752,type:"COUNTRY",active:!0,title:"Sweden",territory_count:0,territory_ids:[],alphanumeric_code:"SE",ext_alphanumeric_code:"SWE"},{id:40,type:"COUNTRY",active:!0,title:"Austria",territory_count:0,territory_ids:[],alphanumeric_code:"AT",ext_alphanumeric_code:"AUT"},{id:710,type:"COUNTRY",active:!0,title:"South Africa",territory_count:0,territory_ids:[],alphanumeric_code:"ZA",ext_alphanumeric_code:"ZAF"},{id:28,type:"COUNTRY",active:!0,title:"Antigua and Barbuda",territory_count:0,territory_ids:[],alphanumeric_code:"AG",ext_alphanumeric_code:"ATG"},{id:705,type:"COUNTRY",active:!0,title:"Slovenia",territory_count:0,territory_ids:[],alphanumeric_code:"SI",ext_alphanumeric_code:"SVN"},{id:231,type:"COUNTRY",active:!0,title:"Ethiopia",territory_count:0,territory_ids:[],alphanumeric_code:"ET",ext_alphanumeric_code:"ETH"},{id:520,type:"COUNTRY",active:!0,title:"Nauru",territory_count:0,territory_ids:[],alphanumeric_code:"NR",ext_alphanumeric_code:"NRU"},{id:562,type:"COUNTRY",active:!0,title:"Niger",territory_count:0,territory_ids:[],alphanumeric_code:"NE",ext_alphanumeric_code:"NER"},{id:258,type:"COUNTRY",active:!0,title:"French Polynesia",territory_count:0,territory_ids:[],alphanumeric_code:"PF",ext_alphanumeric_code:"PYF"},{id:4,type:"COUNTRY",active:!0,title:"Afghanistan",territory_count:0,territory_ids:[],alphanumeric_code:"AF",ext_alphanumeric_code:"AFG"},{id:642,type:"COUNTRY",active:!0,title:"Romania",territory_count:0,territory_ids:[],alphanumeric_code:"RO",ext_alphanumeric_code:"ROM"},{id:204,type:"COUNTRY",active:!0,title:"Benin",territory_count:0,territory_ids:[],alphanumeric_code:"BJ",ext_alphanumeric_code:"BEN"},{id:156,type:"COUNTRY",active:!0,title:"China",territory_count:0,territory_ids:[],alphanumeric_code:"CN",ext_alphanumeric_code:"CHN"},{id:226,type:"COUNTRY",active:!0,title:"Equatorial Guinea",territory_count:0,territory_ids:[],alphanumeric_code:"GQ",ext_alphanumeric_code:"GNQ"},{id:52,type:"COUNTRY",active:!0,title:"Barbados",territory_count:0,territory_ids:[],alphanumeric_code:"BB",ext_alphanumeric_code:"BRB"},{id:36,type:"COUNTRY",active:!0,title:"Australia",territory_count:0,territory_ids:[],alphanumeric_code:"AU",ext_alphanumeric_code:"AUS"},{id:659,type:"COUNTRY",active:!0,title:"Saint Kitts and Nevis",territory_count:0,territory_ids:[],alphanumeric_code:"KN",ext_alphanumeric_code:"KNA"},{id:804,type:"COUNTRY",active:!0,title:"Ukraine",territory_count:0,territory_ids:[],alphanumeric_code:"UA",ext_alphanumeric_code:"UKR"},{id:24,type:"COUNTRY",active:!0,title:"Angola",territory_count:0,territory_ids:[],alphanumeric_code:"AO",ext_alphanumeric_code:"AGO"},{id:296,type:"COUNTRY",active:!0,title:"Kiribati",territory_count:0,territory_ids:[],alphanumeric_code:"KI",ext_alphanumeric_code:"KIR"},{id:702,type:"COUNTRY",active:!0,title:"Singapore",territory_count:0,territory_ids:[],alphanumeric_code:"SG",ext_alphanumeric_code:"SGP"},{id:320,type:"COUNTRY",active:!0,title:"Guatemala",territory_count:0,territory_ids:[],alphanumeric_code:"GT",ext_alphanumeric_code:"GTM"},{id:776,type:"COUNTRY",active:!0,title:"Tonga",territory_count:0,territory_ids:[],alphanumeric_code:"TO",ext_alphanumeric_code:"TON"},{id:643,type:"COUNTRY",active:!0,title:"Russian Federation",territory_count:0,territory_ids:[],alphanumeric_code:"RU",ext_alphanumeric_code:"RUS"},{id:498,type:"COUNTRY",active:!0,title:"Moldova",territory_count:0,territory_ids:[],alphanumeric_code:"MD",ext_alphanumeric_code:"MDA"},{id:724,type:"COUNTRY",active:!0,title:"Spain",territory_count:0,territory_ids:[],alphanumeric_code:"ES",ext_alphanumeric_code:"ESP"},{id:90,type:"COUNTRY",active:!0,title:"Solomon Islands",territory_count:0,territory_ids:[],alphanumeric_code:"SB",ext_alphanumeric_code:"SLB"},{id:840,type:"COUNTRY",active:!0,title:"United States",territory_count:0,territory_ids:[],alphanumeric_code:"US",ext_alphanumeric_code:"USA"},{id:400,type:"COUNTRY",active:!0,title:"Jordan",territory_count:0,territory_ids:[],alphanumeric_code:"JO",ext_alphanumeric_code:"JOR"},{id:732,type:"COUNTRY",active:!0,title:"Western Sahara",territory_count:0,territory_ids:[],alphanumeric_code:"EH",ext_alphanumeric_code:"ESH"},{id:178,type:"COUNTRY",active:!0,title:"Congo",territory_count:0,territory_ids:[],alphanumeric_code:"CG",ext_alphanumeric_code:"COG"},{id:800,type:"COUNTRY",active:!0,title:"Uganda",territory_count:0,territory_ids:[],alphanumeric_code:"UG",ext_alphanumeric_code:"UGA"},{id:450,type:"COUNTRY",active:!0,title:"Madagascar",territory_count:0,territory_ids:[],alphanumeric_code:"MG",ext_alphanumeric_code:"MDG"},{id:328,type:"COUNTRY",active:!0,title:"Guyana",territory_count:0,territory_ids:[],alphanumeric_code:"GY",ext_alphanumeric_code:"GUY"},{id:20,type:"COUNTRY",active:!0,title:"Andorra",territory_count:0,territory_ids:[],alphanumeric_code:"AD",ext_alphanumeric_code:"AND"},{id:688,type:"COUNTRY",active:!0,title:"Serbia",territory_count:0,territory_ids:[],alphanumeric_code:"RS",ext_alphanumeric_code:"SRB"},{id:768,type:"COUNTRY",active:!0,title:"Togo",territory_count:0,territory_ids:[],alphanumeric_code:"TG",ext_alphanumeric_code:"TGO"},{id:440,type:"COUNTRY",active:!0,title:"Lithuania",territory_count:0,territory_ids:[],alphanumeric_code:"LT",ext_alphanumeric_code:"LTU"},{id:516,type:"COUNTRY",active:!0,title:"Namibia",territory_count:0,territory_ids:[],alphanumeric_code:"NA",ext_alphanumeric_code:"NAM"},{id:578,type:"COUNTRY",active:!0,title:"Norway",territory_count:0,territory_ids:[],alphanumeric_code:"NO",ext_alphanumeric_code:"NOR"},{id:480,type:"COUNTRY",active:!0,title:"Mauritius",territory_count:0,territory_ids:[],alphanumeric_code:"MU",ext_alphanumeric_code:"MUS"},{id:760,type:"COUNTRY",active:!0,title:"Syrian Arab Republic",territory_count:0,territory_ids:[],alphanumeric_code:"SY",ext_alphanumeric_code:"SYR"},{id:352,type:"COUNTRY",active:!0,title:"Iceland",territory_count:0,territory_ids:[],alphanumeric_code:"IS",ext_alphanumeric_code:"ISL"},{id:626,type:"COUNTRY",active:!0,title:"Timor-Leste",territory_count:0,territory_ids:[],alphanumeric_code:"TL",ext_alphanumeric_code:"TLS"},{id:191,type:"COUNTRY",active:!0,title:"Croatia",territory_count:0,territory_ids:[],alphanumeric_code:"HR",ext_alphanumeric_code:"HRV"},{id:703,type:"COUNTRY",active:!0,title:"Slovakia",territory_count:0,territory_ids:[],alphanumeric_code:"SK",ext_alphanumeric_code:"SVK"},{id:364,type:"COUNTRY",active:!0,title:"Iran",territory_count:0,territory_ids:[],alphanumeric_code:"IR",ext_alphanumeric_code:"IRN"},{id:795,type:"COUNTRY",active:!0,title:"Turkmenistan",territory_count:0,territory_ids:[],alphanumeric_code:"TM",ext_alphanumeric_code:"TKM"},{id:678,type:"COUNTRY",active:!0,title:"Sao Tome and Principe",territory_count:0,territory_ids:[],alphanumeric_code:"ST",ext_alphanumeric_code:"STP"},{id:308,type:"COUNTRY",active:!0,title:"Grenada",territory_count:0,territory_ids:[],alphanumeric_code:"GD",ext_alphanumeric_code:"GRD"},{id:268,type:"COUNTRY",active:!0,title:"Georgia",territory_count:0,territory_ids:[],alphanumeric_code:"GE",ext_alphanumeric_code:"GEO"},{id:887,type:"COUNTRY",active:!0,title:"Yemen",territory_count:0,territory_ids:[],alphanumeric_code:"YE",ext_alphanumeric_code:"YEM"},{id:380,type:"COUNTRY",active:!0,title:"Italy",territory_count:0,territory_ids:[],alphanumeric_code:"IT",ext_alphanumeric_code:"ITA"},{id:360,type:"COUNTRY",active:!0,title:"Indonesia",territory_count:0,territory_ids:[],alphanumeric_code:"ID",ext_alphanumeric_code:"IDN"},{id:332,type:"COUNTRY",active:!0,title:"Haiti",territory_count:0,territory_ids:[],alphanumeric_code:"HT",ext_alphanumeric_code:"HTI"},{id:784,type:"COUNTRY",active:!0,title:"United Arab Emirates",territory_count:0,territory_ids:[],alphanumeric_code:"AE",ext_alphanumeric_code:"ARE"},{id:140,type:"COUNTRY",active:!0,title:"Central African Republic",territory_count:0,territory_ids:[],alphanumeric_code:"CF",ext_alphanumeric_code:"CAF"},{id:324,type:"COUNTRY",active:!0,title:"Guinea",territory_count:0,territory_ids:[],alphanumeric_code:"GN",ext_alphanumeric_code:"GIN"},{id:554,type:"COUNTRY",active:!0,title:"New Zealand",territory_count:0,territory_ids:[],alphanumeric_code:"NZ",ext_alphanumeric_code:"NZL"},{id:203,type:"COUNTRY",active:!0,title:"Czech Republic",territory_count:0,territory_ids:[],alphanumeric_code:"CZ",ext_alphanumeric_code:"CZE"},{id:807,type:"COUNTRY",active:!0,title:"Macedonia",territory_count:0,territory_ids:[],alphanumeric_code:"MK",ext_alphanumeric_code:"MKD"},{id:716,type:"COUNTRY",active:!0,title:"Zimbabwe",territory_count:0,territory_ids:[],alphanumeric_code:"ZW",ext_alphanumeric_code:"ZWE"},{id:12,type:"COUNTRY",active:!0,title:"Algeria",territory_count:0,territory_ids:[],alphanumeric_code:"DZ",ext_alphanumeric_code:"DZA"},{id:662,type:"COUNTRY",active:!0,title:"Saint Lucia",territory_count:0,territory_ids:[],alphanumeric_code:"LC",ext_alphanumeric_code:"LCA"},{id:376,type:"COUNTRY",active:!0,title:"Israel",territory_count:0,territory_ids:[],alphanumeric_code:"IL",ext_alphanumeric_code:"ISR"},{id:583,type:"COUNTRY",active:!0,title:"Micronesia",territory_count:0,territory_ids:[],alphanumeric_code:"FM",ext_alphanumeric_code:"FSM"},{id:704,type:"COUNTRY",active:!0,title:"Viet Nam",territory_count:0,territory_ids:[],alphanumeric_code:"VN",ext_alphanumeric_code:"VNM"},{id:116,type:"COUNTRY",active:!0,title:"Cambodia",territory_count:0,territory_ids:[],alphanumeric_code:"KH",ext_alphanumeric_code:"KHM"},{id:348,type:"COUNTRY",active:!0,title:"Hungary",territory_count:0,territory_ids:[],alphanumeric_code:"HU",ext_alphanumeric_code:"HUN"},{id:524,type:"COUNTRY",active:!0,title:"Nepal",territory_count:0,territory_ids:[],alphanumeric_code:"NP",ext_alphanumeric_code:"NPL"},{id:834,type:"COUNTRY",active:!0,title:"Tanzania",territory_count:0,territory_ids:[],alphanumeric_code:"TZ",ext_alphanumeric_code:"TZA"},{id:508,type:"COUNTRY",active:!0,title:"Mozambique",territory_count:0,territory_ids:[],alphanumeric_code:"MZ",ext_alphanumeric_code:"MOZ"}],quickpicks:[{id:10014,type:"QUICK PICK",active:!0,title:"Australasia",territory_count:6,territory_ids:[548,36,540,554,242,90],alphanumeric_code:"",ext_alphanumeric_code:""},{id:10006,type:"QUICK PICK",active:!0,title:"Caribbean",territory_count:13,territory_ids:[308,192,670,630,52,212,662,332,780,214,28,388,659],alphanumeric_code:"",ext_alphanumeric_code:""},{id:10013,type:"QUICK PICK",active:!0,title:"North Africa",territory_count:5,territory_ids:[788,504,818,434,12],alphanumeric_code:"",ext_alphanumeric_code:""},{id:10017,type:"QUICK PICK",active:!0,title:"African Commonwealth Nations",territory_count:19,territory_ids:[508,516,716,748,72,404,894,710,834,288,566,426,800,694,454,690,270,480,120],alphanumeric_code:"",ext_alphanumeric_code:""},{id:10008,type:"QUICK PICK",active:!0,title:"Middle East",territory_count:19,territory_ids:[64,414,512,4,368,682,887,784,524,586,400,496,356,50,462,48,364,144,634],alphanumeric_code:"",ext_alphanumeric_code:""},{id:10007,type:"QUICK PICK",active:!0,title:"Central America",territory_count:7,territory_ids:[84,222,340,188,320,558,591],alphanumeric_code:"",ext_alphanumeric_code:""},{id:10019,type:"QUICK PICK",active:!0,title:"Central Asia",territory_count:8,territory_ids:[51,762,398,417,795,31,268,860],alphanumeric_code:"",ext_alphanumeric_code:""},{id:10016,type:"QUICK PICK",active:!0,title:"Eastern Europe and Balkans",territory_count:20,territory_ids:[440,70,100,203,233,705,8,616,348,643,498,499,642,804,703,807,428,191,112,688],alphanumeric_code:"",ext_alphanumeric_code:""},{id:10010,type:"QUICK PICK",active:!0,title:"Baltic States",territory_count:3,territory_ids:[440,428,233],alphanumeric_code:"",ext_alphanumeric_code:""},{id:10011,type:"QUICK PICK",active:!0,title:"GSA Countries",territory_count:3,territory_ids:[276,40,756],alphanumeric_code:"",ext_alphanumeric_code:""},{id:10012,type:"QUICK PICK",active:!0,title:"Nordic Countries",territory_count:5,territory_ids:[578,352,246,752,208],alphanumeric_code:"",ext_alphanumeric_code:""},{id:10015,type:"QUICK PICK",active:!0,title:"North America",territory_count:3,territory_ids:[484,840,124],alphanumeric_code:"",ext_alphanumeric_code:""},{id:10009,type:"QUICK PICK",active:!0,title:"South East Asia",territory_count:11,territory_ids:[702,626,608,116,458,96,764,704,418,360,104],alphanumeric_code:"",ext_alphanumeric_code:""},{id:10018,type:"QUICK PICK",active:!0,title:"North East Asia",territory_count:6,territory_ids:[410,408,392,156,158,344],alphanumeric_code:"",ext_alphanumeric_code:""}],worldwide:[{id:10021,type:"WORLDWIDE",active:!0,title:"Worldwide",territory_count:200,territory_ids:[548,4,8,558,12,554,566,20,562,24,28,31,516,32,512,36,524,40,520,44,51,50,48,528,52,540,56,68,608,70,64,76,616,72,620,626,84,624,630,634,90,100,578,96,583,584,585,586,108,104,591,116,112,598,600,124,604,120,686,682,140,678,132,674,702,152,703,156,158,694,144,690,148,688,170,174,646,643,642,670,191,188,178,662,180,659,204,203,748,196,192,740,762,760,222,764,218,212,752,214,208,756,716,233,232,231,705,704,706,226,710,728,729,732,250,246,724,242,818,276,826,804,258,807,800,262,266,270,268,788,308,784,798,795,792,288,768,296,780,300,776,882,340,887,336,348,344,894,324,320,332,328,372,368,854,858,380,376,862,860,356,834,352,364,840,360,410,408,414,400,404,392,398,384,388,440,442,434,438,426,428,430,417,418,422,478,470,466,462,458,454,450,508,504,496,498,499,492,484,480],alphanumeric_code:"",ext_alphanumeric_code:""}]}},e.__territory={model1:[]}
}]),function(){"use strict";function e(e,t,a,r,i){e.__typeahead={model1:null,model2:null,model3:[],model4:[],model5:null,model6:[]},e.suggestions=[{id:44,code:"BS",name:"Bahamas"},{id:450,code:"MG",name:"Madagascar"}],e.control={typeahead:{attributes:[{name:"tgTypeaheadId",type:"string",description:""},{name:"tgTypeaheadContext",type:"expression",description:""},{name:"tgTypeaheadPlaceholder",type:"string",description:""},{name:"tgTypeaheadTemplateUrl",type:"string",description:"Set custom typeahead template."},{name:"tgTypeaheadLoaderTemplateUrl",type:"string",description:"Set custom typeahead loader template."},{name:"tgTypeaheadPopupTemplateUrl",type:"string",description:"Set custom typeahead popup template."},{name:"tgTypeaheadPopupHeaderTemplateUrl",type:"string",description:"Set custom typeahead popup header template."},{name:"tgTypeaheadPopupFooterTemplateUrl",type:"string",description:"Set custom typeahead popup footer template."},{name:"tgTypeaheadDataSetsHeaderTemplateUrl",type:"string",description:"Set custom typeahead data set header template."},{name:"tgTypeaheadDataSetsItemTemplateUrl",type:"string",description:"Set custom typeahead data set item template."},{name:"tgTypeaheadDataSetsFooterTemplateUrl",type:"string",description:"Set custom typeahead data set footer template."},{name:"tgTypeaheadSuggestedPopupTemplateUrl",type:"string",description:"Set custom typeahead suggested popup template."},{name:"tgTypeaheadSuggestedPopupHeaderTemplateUrl",type:"string",description:"Set custom typeahead suggested popup header template."},{name:"tgTypeaheadSuggestedPopupFooterTemplateUrl",type:"string",description:"Set custom typeahead suggested popup footer template."},{name:"tgTypeaheadPopupAppendToBody",type:"boolean",description:"Should the typeahead popup be appended to $body instead of the parent element? (default: false)"},{name:"tgTypeaheadPopupStrictWidth",type:"boolean",description:""},{name:"tgTypeaheadWrapClass",type:"string",description:""},{name:"tgTypeaheadMinLength",type:"number",description:"The minimal number of characters that needs to be entered before the typeahead kicks in. The default value is set to 1. If set to 0, the typeahead will try to open on focus."},{name:"tgTypeaheadDelay",type:"number",description:"The minimum waiting time (after the last character was typed) before the typeahead kicks in."},{name:"tgTypeaheadSelected",type:"expression",description:"A callback executed when a match is selected."}]}},e.getResultsAsync=function(e,o){var n=t.defer();return r(function(){i.getCountries().then(function(t){t=a("filter")(t,{name:e}),0===t.length&&(o.dataSet.data.noResults=!0),n.resolve(t)})},2e3),n.promise}}angular.module("app").controller("TypeaheadController",e),e.$inject=["$scope","$q","$filter","$timeout","DataService"]}(),angular.module("app").controller("TabsetController",["$scope",function(){"use strict"}]),function(){"use strict";function e(e,t){return{restrict:"A",require:e,transclude:!0,scope:!1,compile:function(){function e(e,a,r,i,o){t&&i&&i.hasOwnProperty(t)&&i[t]({$attachTo:function(e,t){o(t,function(t){e.append(t)})}})}function a(e,t){t.remove()}return{pre:e,post:a}}}}angular.module("tg.components").run(["$templateCache",function(e){e.put("tg-dropdown.tpl.html",'<div class="btn-group tg-dropdown-wrap" data-ng-class="tgDropdownWrapClass">   <div class="tg-dropdown-button" data-ng-class="{ \'disabled\': tgDropdownDisabled }"        data-ng-click="toggleOpenState($event);">       <button class="tg-dropdown-label overflow">           <span style="font-style: italic" class="muted" data-ng-if="!$selectedItem" data-ng-bind-html="tgDropdownPlaceholder"></span>           <span data-tg-dropdown-render-template="$templates.selectedItem">No Template</span>       </button>       <button class="tg-dropdown-caret fa" data-ng-class="$stateHolder.opened ? \'fa-caret-up\' : \'fa-caret-down\'"></button>   </div>   <div data-tg-dropdown-render-template="$templates.popup"></div>'),e.put("tg-dropdown-popup.tpl.html",'<div class="tg-dropdown-menu" data-ng-class="{ \'tg-dropdown-menu-has-search\': !!tgDropdownSearch }" data-ng-show="$stateHolder.opened">   <input type="text" class="tg-dropdown-menu-search" placeholder="{{ tgDropdownSearchPlaceholder }}"        data-ng-model="$stateHolder.filter"        data-ng-change="applyFilter();">   <ul class="dropdown-menu" data-tg-when-scrolled="onPopupScrolled($event);">       <li data-ng-if="$templates.itemHeader">           <div data-tg-dropdown-render-template="$templates.itemHeader">               No Template           </div>       </li>       <li data-ng-repeat="$item in $dataHolder.filteredItems | limitTo:$stateHolder.limit">           <a href="" data-ng-click="selectItem($item);" data-tg-dropdown-render-template="$templates.item">               No Template           </a>       </li>       <li data-ng-if="$stateHolder.filter && $dataHolder.filteredItems == 0">           <a href="" class="overflow">               No match for "{{ $stateHolder.filter }}"           </a>       </li>   </ul></div>'),e.put("tg-dropdown-stage-popup.tpl.html",'<div class="tg-dropdown-menu" data-ng-show="$stateHolder.opened">   <ul class="tg-dropdown-stage-menu">       <li class="tg-dropdown-stage-menu__item-wrap" data-ng-if="$level > 0">           <button class="fa fa-caret-left tg-dropdown-stage-menu__back" data-ng-click="goBack($item)"></button>           <div class="tg-dropdown-stage-menu__item" data-ng-click="goBack($item);">Back</div>       </li>       <li class="tg-dropdown-stage-menu__item-wrap" data-ng-repeat="$item in $dataHolder.filteredItems">           <div class="fa fa-check tg-dropdown-stage-menu__check" style="visibility: hidden;"></div>           <button class="fa fa-caret-right tg-dropdown-stage-menu__forward" data-ng-click="goForward($item)" data-ng-if="hasChilds($item)"></button>           <div class="tg-dropdown-stage-menu__item" data-ng-click="goForward($item);" data-tg-dropdown-render-template="$templates.item" data-ng-class="{ \'m-selectable\': !hasChilds($item) }">No Template</div>       </li>   </ul></div>')}]).directive("tgDropdown",["$tgComponents","$http","$compile","$parse","$templateCache","$filter","$timeout","$document",function(e,t,a,r,i,o,n,d){return{restrict:"A",require:["tgDropdown","?ngModel"],scope:{tgDropdown:"@",tgDropdownPlaceholder:"@",tgDropdownId:"@",tgDropdownWrapClass:"@",tgDropdownTemplateUrl:"@",tgDropdownPopupTemplateUrl:"@",tgDropdownSearch:"=",tgDropdownSearchPlaceholder:"@",tgDropdownFilterBy:"@",tgDropdownOrderBy:"=",tgDropdownLimitStep:"@",tgDropdownSelected:"@",tgDropdownDisabled:"=",tgDropdownAddEmpty:"@",tgDropdownEmptyText:"@"},compile:function(e,c){function l(e,t){var a={};return h.modelMapper.assign(a,t),h.viewMapper.assign(a,e),a[h.itemName]}function p(e,t,a,i){function d(e){return m[h.itemName]=e,g=h.modelMapper(s,m),m[h.itemName]=null,g}var c=i[0],p=i[1],s=e.$parent,u=null,m={},g=null,y=null,_=e.tgDropdownFilterBy?r(e.tgDropdownFilterBy):null,T=parseInt(e.tgDropdownLimitStep)||9999,f=e.tgDropdownSelected?r(e.tgDropdownSelected):angular.noop;"true"===e.tgDropdownAddEmpty&&(y=l(e.tgDropdownEmptyText||null,null)),e.$external=s,e.$templates={main:e.tgDropdownTemplateUrl||"tg-dropdown.tpl.html",popup:e.tgDropdownPopupTemplateUrl||"tg-dropdown-popup.tpl.html",selectedItem:null,itemHeader:null,item:null},e.$stateHolder={opened:!1,limit:T,filter:""},e.$dataHolder={filteredItems:[]},e.$selectedItem=y,e.openPopup=function(){e.$stateHolder.filter="",e.$dataHolder.filteredItems=e.getSource(),e.$dataHolder.filteredItems&&0!==e.$dataHolder.filteredItems.length&&(e.$stateHolder.opened=!0,e.$stateHolder.limit=T,n(function(){e.updateMenu()}))},e.closePopup=function(){e.$stateHolder.opened=!1,e.$stateHolder.limit=T},e.onPopupScrolled=function(){var t=e.$stateHolder.limit+T;t>e.$dataHolder.filteredItems.length&&(t=e.$dataHolder.filteredItems.length),T>t&&(t=T),e.$stateHolder.limit=t},e.toggleOpenState=function(t){e.tgDropdownDisabled||(e.$stateHolder.opened?e.closePopup():e.openPopup()),t.preventDefault()},e.getSource=function(){return u},e.applyFilter=function(){e.$stateHolder.limit=T,e.$dataHolder.filteredItems=o("filter")(u,_({$filter:e.$stateHolder.filter}))},e.refreshSource=function(){if(u=h.source(s),u&&(u&&u.length>0&&e.tgDropdownOrderBy&&(u=o("orderBy")(u,e.tgDropdownOrderBy)),y)){var t=!1;for(var a in u)if(null===d(u[a])){t=!0;break}t||u.unshift(angular.copy(y))}},e.selectItem=function(t){var a=e.selectItemEventPrepare(t);c.trigger("onItemSelecting",a).then(function(){e.closePopup(),t&&(e.hasSelectedAnyItem=!0),e.$selectedItem=t,p&&(g=d(t),p.$setViewValue(g)),c.trigger("onItemSelected",a),f(s,a)})},e.selectItemEventPrepare=function(e){var t={$item:e};return t},e.updateMenu=function(){var a=t.find(".dropdown-menu");if(a.length>0){var r=t.find(".tg-dropdown-menu");r.css("width",a.get(0).offsetWidth),a.scrollTop(0),e.tgDropdownSearch&&r.find("input.tg-dropdown-menu-search").focus()}},e.updateSelectedItemFromModel=function(t,a){if(void 0===t&&null!==y&&(t=null),e.$selectedItem=null,void 0!==t&&a(e.$selectedItem)!==t)for(var r in u)if(angular.equals(a(u[r]),t)){e.$selectedItem=u[r];break}return null!==e.$selectedItem?t:null},p&&p.$formatters.push(function(t){return e.updateSelectedItemFromModel(t,d)}),e.refreshSource()}function s(e,r){t.get(e.$templates.main,{cache:i}).success(function(t){r.append(a(t.trim())(e))});var o=!1,c=function(){o||n(function(){e.closePopup()}),o=!1};d.on("click",c),r.on("click",function(){o=!0}),e.$on("$destroy",function(){d.off("click",c)})}var u=/^\s*(.*?)(?:\s+as\s+(.*?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+(.*)$/,m=c.tgDropdown.match(u);if(!m)throw new Error("Expected typeahead specification in form of '_modelValue_ (as _label_)? for _item_ in _collection_' but got '"+c.tgDropdown+"'.");var h={itemName:m[3],source:r(m[4]),viewMapper:r(m[2]||m[1]),modelMapper:r(m[1])};return{pre:p,post:s}},controller:["$scope","$element","$attrs",function(t,a,r){var i=this;i.$type="tgDropdown",i.$name=t.tgDropdownId?t.tgDropdownId:i.$type+"_"+t.$id,i.$scope=t,i.$element=a,i.$attrs=r,i.$supportEvents=!0,this.$setSelectedItemTemplate=function(e){t.$templates.selectedItem=e},this.$setItemHeaderTemplate=function(e){t.$templates.itemHeader=e},this.$setItemTemplate=function(e){t.$templates.item=e},this.refreshSource=function(){t.refreshSource()},this.selectItem=function(e){t.selectItem(e)},this.$overrideFn=function(e,a){var r=t[e]||angular.noop;t[e]=function(){var e,t=this.$baseFn;return this.$baseFn=r,e=a.apply(this,arguments),this.$baseFn=t,e}},e.$addInstance(i),t.$on("$destroy",function(){e.$removeInstance(i)})}]}}]).directive("tgDropdownRenderTemplate",["$http","$compile","$parse","$templateCache",function(e,t,a,r){return{restrict:"A",scope:!1,compile:function(){function i(i,o,n){var d=a(n.tgDropdownRenderTemplate)(i);angular.isString(d)?(o.html(null),e.get(d,{cache:r}).success(function(e){o.append(t(e.trim())(i))})):angular.isObject(d)&&(o.html(null),d.$attachTo(o,i))}return{pre:null,post:i}}}}]).directive("tgDropdownSelectedItemTemplate",[function(){return e("^?tgDropdown","$setSelectedItemTemplate")}]).directive("tgDropdownItemHeaderTemplate",[function(){return e("^?tgDropdown","$setItemHeaderTemplate")}]).directive("tgDropdownItemTemplate",[function(){return e("^?tgDropdown","$setItemTemplate")}]).directive("tgDropdownStage",[function(){return{restrict:"A",require:"tgDropdown",scope:!1,compile:function(){function e(e,t,a,r){e=r.$scope,e.$templates.popup=e.tgDropdownPopupTemplateUrl||"tg-dropdown-stage-popup.tpl.html",e.$paths=[],e.$level=0,r.$overrideFn("openPopup",function(){if(this.$baseFn(),e.$selectedItem){var t=e.collectPaths(e.$selectedItem),a=t.length-1;a>=0?(e.$level=a+1,e.selectItem(t[a])):e.goRoot()}else e.$level=0}),r.$overrideFn("selectItem",function(t){e.hasChilds(t)?e.$dataHolder.filteredItems=t.childs:(e.$paths=e.collectPaths(t),this.$baseFn(t))}),r.$overrideFn("selectItemEventPrepare",function(t){var a=this.$baseFn(t);return a.$paths=e.$paths,a}),r.$overrideFn("updateSelectedItemFromModel",function(t,a){if(void 0!==t&&a(e.$selectedItem)!==t){var r,i=function(o){if(Array.isArray(o))for(var n=0,d=o.length;d>n;n++){if(r=o[n],a(r)===t)return r;if(e.hasChilds(r)&&(r=i(r.childs)))return r}};e.$selectedItem=i(e.getSource())||null,e.$selectedItem&&(e.$paths=e.collectPaths(e.$selectedItem))}return null!==e.$selectedItem?t:null}),e.hasChilds=function(e){return e.hasOwnProperty("childs")&&Array.isArray(e.childs)&&e.childs.length>0},e.goRoot=function(){e.$level=0,e.$dataHolder.filteredItems=e.getSource()},e.goForward=function(t){e.$level=e.getItemLevel(t)+1,e.$level>=0?e.selectItem(t):e.goRoot()},e.goBack=function(t){var a=e.collectPaths(t),r=a.length-2;r>=0?(e.$level=r+1,e.selectItem(a[r])):e.goRoot()},e.collectPaths=function(t){var a=[],r=null,i=function(o){var n,d;if(Array.isArray(o))for(n=0,d=o.length;d>n;n++){if(r=o[n],r===t)return r;if(e.hasChilds(r)&&(r=i(r.childs)))return a.unshift(o[n]),r}};return i(e.getSource()),a},e.getItemLevel=function(t){var a=-1,r=null,i=function(o){if(Array.isArray(o))for(var n=0,d=o.length;d>n;n++){if(r=o[n],r===t)return a++,r;if(e.hasChilds(r)&&(r=i(r.childs)))return a++,r}};return i(e.getSource()),a},r.getPaths=function(){return e.$paths}}return{pre:e,post:null}}}}])}(),function(){"use strict";function e(e){return e.replace(t,"\\$1")}var t=/([.?*+^$[\]\\(){}|-])/g;angular.module("tg.components").filter("tgHighlight",[function(){return function(t,a){if(a){var r=new RegExp(e(a),"gi");return t.replace(r,"<strong>$&</strong>")}return t}}]).directive("tgHighlightHtml",["$timeout","$compile",function(t,a){return{restrict:"A",scope:!1,compile:function(){return{pre:angular.noop,post:function(r,i,o){if(o.tgHighlightHtml){var n=e(o.tgHighlightHtml)+"(?!([^<]+)?>)",d=new RegExp(n,"gi");t(function(){i.html(function(e,t){return t=t.replace(d,"<strong>$&</strong>"),"true"===o.tgHighlightHtmlCompile?a("<span>"+t+"</span>")(r):t})})}}}}}}])}(),function(){"use strict";angular.module("tg.components").run(["$templateCache",function(e){e.put("tg-tabset.tmpl.html",'<div class="tabbable" data-ng-class="tgTabsetWrapClass">   <ul class="nav nav-tabs">       <li data-ng-repeat="$tab in $tabs"           data-ng-class="{ \'active\': isActiveTab($tab), \'disabled\': $tab.disabled }">           <a href="" data-ng-click="setActiveTab($tab);">               <span data-tg-tabset-render-template="$tab.template.header">{{ $tab.title || \'&nbsp;\' }}</span>           </a>       </li>   </ul>   <div class="tab-content" data-ng-repeat="$tab in $tabs">       <div class="tab-pane"            data-ng-if="$tab.initiated"            data-tg-tabset-render-template="$tab.template.content"            data-ng-class="{ \'active\': isActiveTab($tab) }"></div>   </div></div>')}]).directive("tgTabset",["$tgComponents","$http","$compile","$parse","$templateCache","$q",function(e,t,a,r,i,o){return{restrict:"A",scope:{tgTabset:"=?",tgTabsetId:"@",tgTabsetTemplateUrl:"@",tgTabsetWrapClass:"@",tgTabsetActiveTab:"@",tgTabsetContext:"@"},compile:function(){return function(e,o){var n=e.$parent,d=e.tgTabset;e.$tabs=d.$tabs,e.setActiveTab=function(e){d.setActiveTab(e)},e.isActiveTab=function(e){return e&&d.getActiveTab()===e};var c=r(e.tgTabsetTemplateUrl)(n)||"tg-tabset.tmpl.html";t.get(c,{cache:i}).success(function(t){var r=a(t.trim())(e);o.prepend(r)})}},controller:["$scope","$element","$attrs",function(t,a,i){function n(e){for(var t in c)if(c[t].name===e)return!1;return!0}this.$type="tgTabset",this.$name=t.tgTabsetId?t.tgTabsetId:this.$type+"_"+t.$id,this.$scope=t,this.$element=a,this.$attrs=i,this.$supportEvents=!0;var d=this,c=this.$tabs=[],l=null,p=t.tgTabsetActiveTab;t.tgTabset=d,this.context=r(t.tgTabsetContext)(t.$parent)||{},this.getActiveTab=function(){return l},this.setActiveTab=function(e){var t=o.defer();if(!e||-1===c.indexOf(e))throw t.reject(),new Error("Invalid tab.");if(e===l||e.disabled)t.reject();else{e.refreshContext(!1);var a=function(){var a={tab:e,activeTab:l};d.trigger("$onTabSelecting",a).then(function(){e.initiated=!0,e.autoRefresh&&e.refresh(),l&&(a={tab:l},d.trigger("$onTabDeselected",a)),l=e,a={tab:l},d.trigger("$onTabSelected",a),t.resolve()}).catch(function(){t.reject()})};if(l){var r={tab:l};d.trigger("$onTabDeselecting",r).then(function(){a()}).catch(function(){t.reject()})}else a()}return t.promise},this.addTab=function(e){if(!n(e.name))throw new Error("Tab with name `"+e.name+"` was already added to tabset.");var t={tab:e};d.trigger("$onTabAdding",t).then(function(){c.push(e),d.trigger("$onTabAdded",t),e.name===p&&d.setActiveTab(e)})},this.getTabByIndex=function(e,t){var a=c.length;if(e>=0||a>e)return c[e];if(t)throw new Error("Invalid tab index.");return null},this.getTabByName=function(e,t){for(var a in c)if(c[a].name===e)return c[a];if(t)throw new Error("Invalid tab name.");return null},this.setDefaultTab=function(e){p=e},e.$addInstance(this),t.$on("$destroy",function(){e.$removeInstance(d)})}]}}]).directive("tgTabsetRenderTemplate",["$http","$compile","$parse","$templateCache",function(e,t,a,r){return{restrict:"A",scope:!1,compile:function(){function i(i,o,n){var d=a(n.tgTabsetRenderTemplate)(i);d&&angular.isObject(d)&&(d.hasOwnProperty("templateUrl")?(o.html(null),e.get(d.templateUrl,{cache:r}).success(function(e){var a=t(e.trim());o.append(a(d.scope))})):d.hasOwnProperty("$attachTo")&&(o.html(null),d.$attachTo(o,i,null)))}return{pre:null,post:i}}}}]).directive("tgTab",["$parse",function(e){return{restrict:"A",require:"^tgTabset",transclude:!0,scope:{tgTab:"@",tgTabTitle:"@",tgTabContext:"@",tgTabInitiated:"@",tgTabDisabled:"@",tgTabAutoRefresh:"@",tgTabIsolated:"@",tgTabTemplateUrl:"@"},compile:function(){function e(e,t,a,r,i){var o=null,n=e.$tab;n.template.content.$attachTo=function(t,a){var d={tab:n};r.trigger("$onTabAttaching",d).then(function(){o=t;var c="true"===e.tgTabIsolated?a:e.$parent.$new();c.$external=e.$parent,c.$tabset=r,c.$tab=n,i(c,function(e){t.append(e)}),r.trigger("$onTabAttached",d)})},n.refresh=function(){if(n.initiated&&o){var e={tab:n};r.trigger("$onTabRefreshing",e).then(function(){o.html(null),n.$attachTo(o),r.trigger("$onTabRefreshed",e)})}},r.addTab(n),a.$observe("tgTabTitle",function(e){n.title=e}),t.remove()}return{pre:e,post:null}},controller:["$scope","$element","$attrs",function(t){var a=e(t.tgTabContext);t.$tab={name:t.tgTab,title:t.tgTabTitle,template:{header:t.tgTabTemplateUrl?{templateUrl:t.tgTabTemplateUrl,scope:t.$parent}:null,content:{}},context:null,initiated:"true"===t.tgTabInitiated,disabled:"true"===t.tgTabDisabled,autoRefresh:"true"===t.tgTabAutoRefresh,refreshContext:function(e){var r=a(t.$parent)||{};e===!1&&(r=angular.extend(r,this.context)),this.context=r}},t.$tab.refreshContext()}]}}])}(),function(){"use strict";function e(e){return function(t,a){return a?(a=a.toLowerCase(),e.select(t,function(e){return e.name&&-1!==e.name.toLowerCase().indexOf(a)&&!e.getState().selected?e:void 0})):t}}function t(e){function t(t,a){var r={all:[],worldwide:void 0,clusters:[],regions:[],territories:[]};if(!e.empty(t.worldwide)){var i=t.worldwide[0],o={selected:!1};r.worldwide={id:i.id,name:i.title,type:"WORLDWIDE",getState:function(){return o}},e.has(a,"WORLDWIDE")&&r.all.push(r.worldwide)}return e.forEach(t.clusters,function(a){var i=[],o=[],n={expanded:!1,selected:!1,selectedTerritories:0},d={id:a.id,name:a.title,type:"CLUSTER",getRegions:function(){return i},getTerritories:function(){return o},getState:function(){return n}};e.empty(t.countries)||e.forEach(a.territory_ids,function(a){var i=e.each(t.countries,function(e){return e.id===a?e:void 0});if(i){var o={selected:!1},n={id:i.id,name:i.title,code:i.alphanumeric_code,type:"COUNTRY",getCluster:function(){return d},getState:function(){return o}};d.getTerritories().push(n),r.territories.push(n);var c=e.select(t.quickpicks,function(t){return e.each(t.territory_ids,function(e){return i.id===e?t:void 0})});e.forEach(c,function(t){var a=e.each(d.getRegions(),function(e){return e.id===t.id?e:void 0});if(!a){var i=[],o={selected:!1},a={id:t.id,name:t.title,code:t.alphanumeric_code,type:"REGION",getTerritories:function(){return i},getCluster:function(){return d},getState:function(){return o}};d.getRegions().push(a),r.regions.push(a)}a.getTerritories().push(n)})}}),r.clusters.push(d)}),e.has(a,"CLUSTER")&&Array.prototype.push.apply(r.all,r.clusters),e.has(a,"REGION")&&Array.prototype.push.apply(r.all,r.regions),e.has(a,"COUNTRY")&&Array.prototype.push.apply(r.all,r.territories),console.log(r),r}return{prepareSource:t}}function a(e,t,a,r,i){return{restrict:"A",require:["tgTerritory","?ngModel"],scope:{tgTerritory:"=?",tgTerritoryId:"@",tgTerritorySource:"=",tgTerritoryDisabled:"=?"},templateUrl:"tg-territory.tpl.html",compile:function(e,o){function n(e,a,r){var o={};return o.sourceTypes=a.tgTerritorySourceTypes?t(a.tgTerritorySourceTypes)(r):e&&e.sourceTypes,i.empty(o.sourceTypes)&&(o.sourceTypes=["COUNTRY"]),o.tagsTransform=a.tgTerritoryTagsTransform?"true"===a.tgTerritoryTagsTransform:e&&e.tagsTransform||!1,o}function d(e,t,a,o){function d(e){var t=[],a=[];return i.forEach(e.getTerritories(),function(e){var r=e.getState();r.selected?t.push(e):a.push(e)}),{selectedTerritories:t,unselectedTerritories:a}}function c(e){var t=[],a=[];return i.forEach(e.getTerritories(),function(e){var r=e.getState();r.selected?t.push(e):a.push(e)}),{selectedTerritories:t,unselectedTerritories:a}}function l(e){var t=e.getState();t.selected=i.empty(d(e).unselectedTerritories),s(e)}function s(e){i.forEach(e.getRegions(),function(e){var t=e.getState();t.selected=i.empty(c(e).unselectedTerritories)})}function u(){var t=e.dataHolder.source,a=e.dataHolder.model,r=0;a.length=0,i.forEach(t.clusters,function(e){var t=e.getState();t.selectedTerritories>0&&(t.selectedTerritories===e.getTerritories().length?(a.push(e),r++):e.getTerritories().forEach(function(e){var t=e.getState();t.selected&&a.push(e)}))}),r===t.clusters.length&&(a.length=0,a.push(t.worldwide))}function m(){var e=t.find(".tg-territory__input").controller("tgTypeahead");return e}var h=e.$parent,g=(o[0],o[1],n(e.tgTerritory,a,e));e.dataHolder={source:r.prepareSource(e.tgTerritorySource,g.sourceTypes),model:[]},e.stateHolder={popup:{isOpen:!1,dirty:!1},disabled:!1},e.$isDisabled=function(){return!!e.tgTerritoryDisabled||e.stateHolder.disabled},e.$isVisibleType=function(e){return i.has(g.sourceTypes,e)},e.$isAllExpanded=function(){var t=e.dataHolder.source;return!i.each(t.clusters,function(e){return e.getState().expanded?void 0:!0})},e.$isAllSelected=function(){var t=e.dataHolder.source;return!i.each(t.territories,function(e){return e.getState().selected?void 0:!0})},e.openPopup=function(){e.$isVisibleType("CLUSTER")&&(e.stateHolder.popup.isOpen=!e.stateHolder.popup.isOpen)},e.onOutsideClick=function(){g.tagsTransform&&m().switchToText(),e.stateHolder.popup.isOpen&&e.stateHolder.popup.dirty&&(e.stateHolder.popup.dirty=!1,u()),e.stateHolder.popup.isOpen=!1},e.onInsideClick=function(){g.tagsTransform&&m().switchToTags()},e.toggleAllClustersExpand=function(t){var a=e.dataHolder.source.clusters;i.forEach(a,function(e){var a=e.getState();a.expanded=void 0!==t?t:!a.expanded})},e.toggleClusterExpand=function(e){var t=e.getState();t.expanded=!t.expanded},e.expandClass=function(e){var t=e.getState();return t.expanded?"fa-caret-down":"fa-caret-right"},e.toggleWorldwide=function(t){var a=e.dataHolder.source.territories;i.forEach(a,function(a){e.toggleTerritorySelection(a.getCluster(),a,!1,t)})},e.toggleTerritorySelection=function(t,a,r,i){e.stateHolder.popup.dirty=!0;var o=t.getState(),n=a.getState(),d=i===!0||i===!1?i:!n.selected;n.selected!==d&&(n.selected=d,n.selected?o.selectedTerritories++:o.selectedTerritories--,r||l(t))},e.toggleClusterSelection=function(t,a){var r=d(t);a===!0?i.forEach(r.unselectedTerritories,function(r){e.toggleTerritorySelection(t,r,!0,a)}):a===!1?i.forEach(r.selectedTerritories,function(r){e.toggleTerritorySelection(t,r,!0,a)}):i.empty(r.unselectedTerritories)?i.forEach(r.selectedTerritories,function(r){e.toggleTerritorySelection(t,r,!0,a)}):i.forEach(r.unselectedTerritories,function(r){e.toggleTerritorySelection(t,r,!0,a)}),l(t)},e.toggleRegionSelection=function(t,a,r){var o=c(a);r===!0?i.forEach(o.unselectedTerritories,function(a){e.toggleTerritorySelection(t,a,!0,r)}):r===!1?i.forEach(o.selectedTerritories,function(a){e.toggleTerritorySelection(t,a,!0,r)}):i.empty(o.unselectedTerritories)?i.forEach(o.selectedTerritories,function(a){e.toggleTerritorySelection(t,a,!0,r)}):i.forEach(o.unselectedTerritories,function(a){e.toggleTerritorySelection(t,a,!0,r)}),l(t)},e.clusterSelectionClass=function(e){var t=e.getState();return t.selectedTerritories===e.getTerritories().length?"fa-check-square-o":t.selectedTerritories>0?"fa-minus-square-o":"fa-square-o"},e.onTagSelected=function(t,a){if("ModelUpdate"!==a){var r=t.match.data;switch(r.type){case"WORLDWIDE":e.toggleWorldwide(!0);break;case"CLUSTER":e.toggleClusterSelection(r,!0);break;case"REGION":e.toggleRegionSelection(r.getCluster(),r,!0);break;case"COUNTRY":e.toggleTerritorySelection(r.getCluster(),r,!1,!0)}u()}},e.onTagDeselected=function(t,a){if("ModelUpdate"!==a){var r=t.match.data;switch(r.type){case"WORLDWIDE":e.toggleWorldwide(!1);break;case"CLUSTER":e.toggleClusterSelection(r,!1);break;case"REGION":e.toggleRegionSelection(r.getCluster(),r,!1);break;case"COUNTRY":e.toggleTerritorySelection(r.getCluster(),r,!1,!1)}u()}},p(h,e.dataHolder.model)}function c(e,t){var r=function(a){0===t.has(a.target).length?(e.onOutsideClick(),e.$digest()):(e.onInsideClick(),e.$digest())};a.on("click",r),e.$on("$destroy",function(){a.off("click",r)})}var l=t(o.ngModel),p=l.assign;return{pre:d,post:c}},controller:["$scope","$element","$attrs",function(t,a,r){var i=this;i.$type="tgTerritory",i.$name=t.tgTerritoryId?t.tgTerritoryId:i.$type+"_"+t.$id,i.$scope=t,i.$element=a,i.$attrs=r,i.$supportEvents=!0,e.$addInstance(i),t.$on("$destroy",function(){e.$removeInstance(i)})}]}}angular.module("tg.components").run(["$templateCache",function(e){e.put("tg-territory.tpl.html",'<div class="tg-territory">                    <div class="tg-territory__input-container">                        <div class="tg-territory__input"                             tg-typeahead=""                             tg-typeahead-disabled="$isDisabled()"                             tg-typeahead-tag-manager=""                             tg-typeahead-max-lines="4"                             tg-typeahead-tag-transform="true"                             tg-typeahead-tag-selected="onTagSelected(tag, sender);"                             tg-typeahead-tag-deselected="onTagDeselected(tag, sender);"                             ng-model="dataHolder.model">                            <div tg-typeahead-data-set="territory as territory.name for territory in dataHolder.source.all | tgTerritoryFilter:$viewValue">                                <div tg-typeahead-data-set-item="">                                    <span>{{$match.data.name}}</span>                                </div>                             </div>                            <div tg-typeahead-popup-footer="">                                <div class="tg-typeahead__suggestions-footer-inner" ng-show="$dataSets[0].queried.matches == 0">Territory with name <strong>{{$term}}</strong> doesn\'t exist.</div>                            </div>                        </div>                        <button class="tg-territory__globe-button" ng-click="!$isDisabled() && openPopup();"></button>                    </div>                    <div class="tg-territory__popup" ng-if="stateHolder.popup.isOpen">                        <div class="tg-territory__popup-header">                            <div class="pull-left" ng-switch="$isAllExpanded()">                                <button class="tg-territory__btn" ng-switch-when="false" ng-click="toggleAllClustersExpand(true); $event.stopPropagation();">Expand all</button>                                <button class="tg-territory__btn" ng-switch-when="true" ng-click="toggleAllClustersExpand(false); $event.stopPropagation();">Collapse all</button>                            </div>                            <div class="pull-left" ng-switch="$isAllSelected()">                                <button class="tg-territory__btn" ng-switch-when="false" ng-click="toggleWorldwide(true); $event.stopPropagation();">Select all</button>                                <button class="tg-territory__btn" ng-switch-when="true" ng-click="toggleWorldwide(false); $event.stopPropagation();">Deselect all</button>                            </div>                            <button class="tg-territory__btn pull-right">Close</button>                        </div>                        <div class="tg-territory__popup-body">                            <div class="tg-territory__clusters">                                <div class="tg-territory__cluster" ng-repeat="cluster in dataHolder.source.clusters">                                    <div class="tg-territory__cluster-inner">                                        <div class="tg-territory__cluster-header" ng-click="toggleClusterExpand(cluster);">                                            <span class="pull-left">                                                <i class="tg-territory__caret fa" ng-class="expandClass(cluster)"></i>                                                {{cluster.name}}                                            </span>                                            <span class="pull-right">                                                {{cluster.getState().selectedTerritories}}/{{cluster.getTerritories().length}}                                                <i class="fa" ng-class="clusterSelectionClass(cluster)" ng-click="$event.stopPropagation(); toggleClusterSelection(cluster);"></i>                                            </span>                                        </div>                                        <div class="tg-territory__cluster-body"                                             ng-if="cluster.getState().expanded">                                            <ul class="tg-territory__cluster-countries">                                                <li class="tg-territory__cluster-country"                                                     ng-repeat="territory in cluster.getTerritories()"                                                     ng-click="toggleTerritorySelection(cluster, territory);"                                                     ng-class="{\'m-active\':territory.getState().selected}">                                                    {{territory.name}}                                                </li>                                            </ul>                                            <div ng-if="$isVisibleType(\'REGION\') && cluster.getRegions().length">                                                <div class="tg-territory__cluster-region-title">Regions</div>                                                <ul class="tg-territory__cluster-regions">                                                    <li class="tg-territory__cluster-region"                                                         ng-repeat="region in cluster.getRegions()"                                                         ng-click="toggleRegionSelection(cluster, region);"                                                         ng-class="{\'m-active\':region.getState().selected}">                                                        <span>{{region.name}}</span>                                                    </li>                                                </ul>                                            </div>                                        </div>                                    </div>                                </div>                            </div>                        </div>                    </div>                </div>')}]).filter("tgTerritoryFilter",e).factory("tgTerritoryUtilities",t).directive("tgTerritory",a),e.$inject=["utilities"],t.$inject=["utilities"],a.$inject=["$tgComponents","$parse","$document","tgTerritoryUtilities","utilities"]
}(),function(){"use strict";function e(e,t){return{restrict:"A",require:e,transclude:!0,scope:!1,compile:function(){function e(e,a,r,i,o){t&&i&&i.hasOwnProperty(t)&&i[t](o)}function a(e,t){t.remove()}return{pre:e,post:a}}}}angular.module("tg.components").run(["$templateCache",function(e){e.put("tg-typeahead.tpl.html",'<div class="tg-typeahead"     ng-class="tgTypeaheadWrapClass">   <div tg-typeahead-render-template="$templates.main.header"></div>   <div tg-typeahead-render-template="$templates.main.container"></div>   <div tg-typeahead-render-template="$templates.main.footer"></div>   <div class="tg-typeahead__suggestions-wrap"        tg-typeahead-render-template="$templates.popup.wrapper"></div>   <div class="tg-typeahead__suggestions-wrap"        ng-if="$stateHolder.hasSuggestions"        tg-typeahead-render-template="$templates.suggestedPopup.wrapper"></div></div>'),e.put("tg-typeahead-container.tpl.html",'<div class="tg-typeahead__input-container" style="position: relative"     ng-show="$isVisibleInput() && !$stateHolder.tagTransformed">   <a href="" class="tg-typeahead__clear-link"      ng-show="!$stateHolder.loader && $isVisibleClear()"      ng-click="$clear($event);">Remove All</a>   <div class="input-loader tg-typeahead__loader" ng-show="$stateHolder.loader"></div>   <div class="tg-typeahead__input-wrap">       <input type="text" class="tg-typeahead__input"              placeholder="{{ $getPlaceholder() }}"              ng-model="$term"              ng-disabled="$isDisabled()">   </div></div>'),e.put("tg-typeahead-popup.tpl.html",'<ul class="tg-typeahead__suggestions"    ng-if="$stateHolder.popup.opened"    ng-style="$templates.popup.wrapper.style">    <li class="tg-typeahead__suggestions-header"        tg-typeahead-render-template="$templates.popup.header"></li>    <li class="tg-typeahead__suggestions-container"        tg-when-scrolled="$onPopupScrolled($event);">        <div ng-repeat="$dataSet in $dataSets | filter:{ queried: { active: true } }">            <div class="tg-typeahead__suggestions-group-header"                 tg-typeahead-render-template="$dataSet.templates.header || $templates.dataSet.header"></div>            <ul class="tg-typeahead__suggestions-group">                <li class="tg-typeahead__suggestions-group-item"                    ng-repeat="$match in $dataSet.queried.matches | limitTo:$dataSet.queried.limit"                    ng-class="{ active: $index === $dataSet.queried.activeIndex, selected: $match.selected, disabled: $match.disabled }">                    <div tg-typeahead-render-template="$dataSet.templates.item || $templates.dataSet.item"></div>                </li>            </ul>            <div class="tg-typeahead__suggestions-group-footer"                tg-typeahead-render-template="$dataSet.templates.footer || $templates.dataSet.footer"></div>        </div>    </li>    <li class="tg-typeahead__suggestions-footer"        tg-typeahead-render-template="$templates.popup.footer"></li></ul>'),e.put("tg-typeahead-dataSet-item.tpl.html",'<span ng-bind-html="$match.value | tgTrustedHtml"></span>'),e.put("tg-typeahead-suggested-popup.tpl.html",'<ul class="tg-typeahead__suggestions"    ng-if="$stateHolder.suggestedPopup.opened"    ng-style="$templates.suggestedPopup.wrapper.style">    <li class="tg-typeahead__suggestions-header"        tg-typeahead-render-template="$templates.suggestedPopup.header"></li>    <li class="tg-typeahead__suggestions-container"        tg-when-scrolled="$onPopupScrolled($event);">        <div ng-repeat="$dataSet in $dataSets | filter:{ suggested: { active: true } }">            <div class="tg-typeahead__suggestions-group-header"                 tg-typeahead-render-template="$dataSet.templates.header || $templates.dataSet.header"></div>            <ul class="tg-typeahead__suggestions-group">                <li class="tg-typeahead__suggestions-group-item"                    ng-repeat="$match in $dataSet.suggested.matches | limitTo:$dataSet.suggested.limit"                    ng-class="{ active: $index === $dataSet.suggested.activeIndex, selected: $match.selected, disabled: $match.disabled }">                    <div tg-typeahead-render-template="$dataSet.templates.item || $templates.dataSet.item"></div>                </li>            </ul>            <div class="tg-typeahead__suggestions-group-footer"                tg-typeahead-render-template="$dataSet.templates.footer || $templates.dataSet.footer"></div>        </div>    </li>    <li class="tg-typeahead__suggestions-footer"        tg-typeahead-render-template="$templates.suggestedPopup.footer"></li></ul>'),e.put("tg-typeahead-suggested-dataSet-item.tpl.html",'<span ng-bind-html="$match.value | tgTrustedHtml"></span>'),e.put("tg-typeahead-tag-manager.tpl.html",'<div class="tg-typeahead__tag-manager"     ng-class="$templates.tagManager.wrapper.class"     ng-style="$templates.tagManager.wrapper.style">   <div data-ng-if="!$stateHolder.tagTransformed" ng-repeat="$tag in $tags | orderBy:$tagsOrder">       <div tg-typeahead-render-template="$templates.tagManager.tag"></div>   </div>   <div class="tg-typeahead__tags-text" data-ng-if="$stateHolder.tagTransformed">{{ $getTagsText() }}</div></div>'),e.put("tg-typeahead-tag.tpl.html",'<div class="tg-typeahead__tag">    <span class="tg-typeahead__tag-remove fa fa-times" rel="tooltip"       tooltip-placement="right"       tooltip-html-unsafe="delete"       ng-class="{\'disabled\': $isDisabled()}"       ng-click="!$isDisabled() && $removeTag($tag)"></span>    <span class="tg-typeahead__tag-name" ng-bind-html="$tag.match.value | tgTrustedHtml"></span></div>')}]).directive("tgTypeahead",["$tgComponents","$injector","$http","$compile","$parse","$q","$timeout","$document",function(e,t,a,r,i,o,n,d){return{restrict:"A",require:["tgTypeahead","?ngModel"],scope:{tgTypeahead:"=?",tgTypeaheadId:"@",tgTypeaheadContext:"=",tgTypeaheadWrapClass:"@",tgTypeaheadDisabled:"=?",tgTypeaheadSelected:"@"},priority:4,compile:function(e,a){function c(e){return e&&e.hasOwnProperty("then")&&T.isFunction(e.then)}function l(e,t){var a={};return a.placeholder=t.tgTypeaheadPlaceholder?t.tgTypeaheadPlaceholder:e&&e.placeholder||"",a.minLength=t.tgTypeaheadMinLength?Math.abs(parseInt(t.tgTypeaheadMinLength)):e&&e.minLength||0,a.delay=t.tgTypeaheadDelay?Math.abs(parseInt(t.tgTypeaheadDelay)):e&&e.delay||500,a.popupAppendToBody=t.tgTypeaheadPopupAppendToBody?"true"===t.tgTypeaheadPopupAppendToBody:e&&e.popupAppendToBody||!1,a.popupStrictWidth=t.tgTypeaheadPopupStrictWidth?"false"!==t.tgTypeaheadPopupStrictWidth:e&&e.popupStrictWidth||!0,a.displayClean=t.tgTypeaheadDisplayClean?"true"===t.tgTypeaheadDisplayClean:e&&e.displayClean||!1,a.templateUrl=t.tgTypeaheadTemplateUrl?t.tgTypeaheadTemplateUrl:e&&e.templateUrl||"tg-typeahead.tpl.html",a.headerTemplateUrl=t.tgTypeaheadHeaderTemplateUrl?t.tgTypeaheadHeaderTemplateUrl:e&&e.headerTemplateUrl||void 0,a.containerTemplateUrl=t.tgTypeaheadContainerTemplateUrl?t.tgTypeaheadContainerTemplateUrl:e&&e.containerTemplateUrl||"tg-typeahead-container.tpl.html",a.footerTemplateUrl=t.tgTypeaheadFooterTemplateUrl?t.tgTypeaheadFooterTemplateUrl:e&&e.footerTemplateUrl||void 0,a.popupTemplateUrl=t.tgTypeaheadPopupTemplateUrl?t.tgTypeaheadPopupTemplateUrl:e&&e.popupTemplateUrl||"tg-typeahead-popup.tpl.html",a.popupHeaderTemplateUrl=t.tgTypeaheadPopupHeaderTemplateUrl?t.tgTypeaheadPopupHeaderTemplateUrl:e&&e.popupHeaderTemplateUrl||void 0,a.popupFooterTemplateUrl=t.tgTypeaheadPopupFooterTemplateUrl?t.tgTypeaheadPopupFooterTemplateUrl:e&&e.popupFooterTemplateUrl||void 0,a.suggestedPopupTemplateUrl=t.tgTypeaheadSuggestedPopupTemplateUrl?t.tgTypeaheadSuggestedPopupTemplateUrl:e&&e.suggestedPopupTemplateUrl||"tg-typeahead-suggested-popup.tpl.html",a.suggestedPopupHeaderTemplateUrl=t.tgTypeaheadSuggestedPopupHeaderTemplateUrl?t.tgTypeaheadSuggestedPopupHeaderTemplateUrl:e&&e.suggestedPopupHeaderTemplateUrl||void 0,a.suggestedPopupFooterTemplateUrl=t.tgTypeaheadSuggestedPopupFooterTemplateUrl?t.tgTypeaheadSuggestedPopupFooterTemplateUrl:e&&e.suggestedPopupFooterTemplateUrl||void 0,a.dataSetsHeaderTemplateUrl=t.tgTypeaheadDataSetsHeaderTemplateUrl?t.tgTypeaheadDataSetsHeaderTemplateUrl:e&&e.dataSetsHeaderTemplateUrl||void 0,a.dataSetsItemTemplateUrl=t.tgTypeaheadDataSetsItemTemplateUrl?t.tgTypeaheadDataSetsItemTemplateUrl:e&&e.dataSetsItemTemplateUrl||"tg-typeahead-dataSet-item.tpl.html",a.dataSetsFooterTemplateUrl=t.tgTypeaheadDataSetsFooterTemplateUrl?t.tgTypeaheadDataSetsFooterTemplateUrl:e&&e.dataSetsFooterTemplateUrl||void 0,a}function p(e,t,a,r){function d(t){var a=e.$dataHolder.collectedPromises,r=e.$promisesHolder.regularCancelPromise;return r&&a.push(r.promise),T.forEach(e.$dataSets,function(i){i.data={};var n={$queried:!0,$viewValue:t,$internal:e,$context:angular.extend({dataSet:i},e.$prepareSourceContext()||{})},d=i.queried,l=d.source.sourceMapper,p=l(U,n),s=c(p)?p:o.when(p);d.inProgress=!0,s.then(function(a){if(e.$term===t){d.matches.length=0,d.$hideMore();var r=a;T.forEach(r,function(t){var a=d.$getItem(t,U),r=new y(t,a.model,a.value);e.$prepareMatchModel(r,i),d.matches.push(r)})}}).finally(function(){r&&r.resolve()}),a.push(s)}),a}function p(){var t=e.$dataHolder.collectedPromises,a=e.$promisesHolder.suggestedCancelPromise;return a&&t.push(a.promise),T.forEach(e.$dataSets,function(r){if(r.suggested&&r.suggested.source){r.data={};var i={$suggested:!0,$internal:e,$context:angular.extend({dataSet:r},e.$prepareSourceContext()||{})},n=r.suggested,d=n.source.sourceMapper,l=d(U,i),p=c(l)?l:o.when(l);p.then(function(t){n.matches.length=0,n.$hideMore();var a=t;T.forEach(a,function(t){var a=n.$getItem(t,U),i=new _(t,a.model,a.value);e.$prepareMatchModel(i,r),n.matches.push(i)})}).finally(function(){a&&a.resolve()}),t.push(p)}}),t}function s(){e.$dataHolder.collectedPromises.length=0}function f(){var t,a=e.$stateHolder.popup.opened,r=e.$stateHolder.suggestedPopup.opened;if(a?t=e.$templates.popup.wrapper:r&&(t=e.$templates.suggestedPopup.wrapper),t){var i=e.$findElementInTemplate(t,".tg-typeahead__suggestions-container"),o=i.get(0);if(o&&o.clientHeight<o.scrollHeight){var n=e.$findElementInTemplate(t,".tg-typeahead__suggestions-group-item.active"),d=n.get(0);if(d){var c=o.getBoundingClientRect(),l=d.getBoundingClientRect();l.top<c.top?o.scrollTop+=l.top-c.top:l.bottom>c.bottom&&(o.scrollTop+=l.bottom-c.bottom)}}}}function v(t){t.on("mouseenter mouseleave mousedown",".tg-typeahead__suggestions-group-item",function(t){if(t.target){var a=angular.element(t.target).scope();switch(t.type){case"mouseenter":e.$setActiveMatch(a.$dataSet,a.$index),a.$digest();break;case"mouseleave":var r=e.getDataSetSource(a.$dataSet);r&&(r.activeIndex=-1),a.$digest();break;case"mousedown":a.$match.disabled||e.$selectMatch(a.$dataSet,a.$index,a.$match,t),a.$apply()}}})}function $(e){switch(R.trigger("onTemplateInit",{template:e}),e.name){case"main.container":S(e);break;case"popup.wrapper":case"suggestedPopup.wrapper":v(e.element)}}function S(){var t=e.$findElementInTemplate(e.$templates.main.wrapper,".tg-typeahead__input");t.on("click",function(){var t=e.$stateHolder.popup.opened;e.$closePopup(),e.$stateHolder.hasSuggestions&&!t&&e.$resolveSuggestedSources()});var a=t.controller("ngModel");a.$parsers.unshift(function(t){return t=t||"",C&&n.cancel(C),e.$closePopup(),e.$applyMatch(null,null),t.length>=x.minLength&&(C=n(function(){e.$term&&e.$resolveSources(t)},x.delay)),t})}var C,U=e.$external=e.$parent,R=r[0],w=r[1],x=l(e.tgTypeahead,a);e.selectedDataSet=null,e.$dataSets=[],e.$term=null,e.$templates={main:{wrapper:new g("main.wrapper",x.templateUrl,$),header:new g("main.header",x.headerTemplateUrl,$),container:new g("main.container",x.containerTemplateUrl,$),footer:new g("main.footer",x.footerTemplateUrl,$)},popup:{wrapper:new g("popup.wrapper",x.popupTemplateUrl,$),header:new g("popup.header",x.popupHeaderTemplateUrl,$),container:new g("popup.container",void 0,$),footer:new g("popup.footer",x.popupFooterTemplateUrl,$)},suggestedPopup:{wrapper:new g("suggestedPopup.wrapper",x.suggestedPopupTemplateUrl,$),header:new g("suggestedPopup.header",x.suggestedPopupHeaderTemplateUrl,$),container:new g("suggestedPopup.container",void 0,$),footer:new g("suggestedPopup.footer",x.suggestedPopupFooterTemplateUrl,$)},dataSet:{header:new g("dataSet.header",x.dataSetsHeaderTemplateUrl,$),item:new g("dataSet.item",x.dataSetsItemTemplateUrl,$),footer:new g("dataSet.footer",x.dataSetsFooterTemplateUrl,$)}},x.popupAppendToBody&&(e.$templates.popup.wrapper.appendToBody=!0,e.$templates.suggestedPopup.wrapper.appendToBody=!0),x.popupStrictWidth&&(e.$templates.popup.wrapper.strictWidth=!0,e.$templates.suggestedPopup.wrapper.strictWidth=!0),e.$stateHolder={loader:!1,disabled:!1,popup:{opened:!1},hasSuggestions:!1,suggestedPopup:{opened:!1}},e.$dataHolder={collectedPromises:[],modelValue:null},e.$eventHolder={onMatchSelected:i(e.tgTypeaheadSelected)},e.$promisesHolder={regularCancelPromise:void 0,suggestedCancelPromise:void 0},e.getDataSetSource=function(t){if(t){if(e.$stateHolder.popup.opened)return t.queried;if(e.$stateHolder.suggestedPopup.opened)return t.suggested}},e.selectDataSet=function(t,a){var r;T.forEach(e.$dataSets,function(a){r=e.getDataSetSource(a),r&&(r.$hideMore(),r.active=!t)}),e.selectedDataSet=t,e.selectedDataSet&&(r=e.getDataSetSource(e.selectedDataSet),r&&(r.$showMore(),r.active=!0));var i=e.$findElementInTemplate(e.$templates.main.wrapper,".tg-typeahead__suggestions-container");i&&i.scrollTop(),a&&a.stopPropagation()},e.refreshModel=function(t){return e.$clear(),t=e.$prepareModel(t),e.$setModel(t,!0),t},e.$findElementInTemplate=function(e,t){return e&&e.element&&t?e.element.find(t):void 0},e.$openPopup=function(){e.$stateHolder.popup.opened||(e.$stateHolder.popup.opened=!0,e.selectDataSet(null),e.$setActiveMatch(null,-1),e.$updatePopupElement(e.$templates.popup.wrapper))},e.$openSuggestedPopup=function(){e.$stateHolder.suggestedPopup.opened||(e.$stateHolder.suggestedPopup.opened=!0,e.selectDataSet(null),e.$setActiveMatch(null,-1),e.$updatePopupElement(e.$templates.suggestedPopup.wrapper))},e.$closePopup=function(){e.$stateHolder.popup.opened&&(e.$stateHolder.popup.opened=!1),e.$stateHolder.suggestedPopup.opened&&(e.$stateHolder.suggestedPopup.opened=!1),e.$cancelAllRequests()},e.$updatePopupElement=function(e){var a=e.style||{};if(e.appendToBody){var r=t.offset(),i=t.outerHeight(!0);a.position="absolute",a.top=r.top+i+1,a.left=r.left}e.strictWidth&&(a.width=t.innerWidth(),a.boxSizing="border-box"),e.style=a},e.$isDisabled=function(){return!!e.tgTypeaheadDisabled||e.$stateHolder.disabled},e.$isVisibleInput=function(){return!0},e.$isFocusedInput=function(){var t=e.$findElementInTemplate(e.$templates.main.wrapper,".tg-typeahead__input");return t&&t.is(":focus")},e.$getPlaceholder=function(){return x.placeholder||""},e.$isVisibleClear=function(){return x.displayClean&&e.$term},e.$clear=function(){e.$clearTypeahead()},e.$updateInputElement=function(){},e.$prepareSourceContext=function(){},e.$resolveSources=function(t){e.$cancelAllRequests(),e.$stateHolder.loader=!0,e.$promisesHolder.regularCancelPromise=o.defer(),o.all(d(t)).then(function(){e.$dataHolder.collectedPromises.length>0&&(s(),e.$openPopup())},function(){e.$cancelAllRequests()}).finally(function(){e.$stateHolder.loader=!1})},e.$resolveSuggestedSources=function(){e.$cancelAllRequests(),e.$stateHolder.loader=!0,e.$promisesHolder.suggestedCancelPromise=o.defer(),o.all(p()).then(function(){e.$dataHolder.collectedPromises.length>0&&(s(),n(function(){e.$openSuggestedPopup()}))},function(){e.$cancelAllRequests()}).finally(function(){e.$stateHolder.loader=!1})},e.$cancelAllRequests=function(){e.$stateHolder.loader=!1;var t=e.$promisesHolder.regularCancelPromise,a=e.$promisesHolder.suggestedCancelPromise;t&&(t.reject(),e.$promisesHolder.regularCancelPromise=void 0),a&&(a.reject(),e.$promisesHolder.suggestedCancelPromise=void 0);var r=e.$dataHolder.collectedPromises;r.length>0&&(T.forEach(r,function(e){e.hasOwnProperty("cancelRequest")&&e.cancelRequest()}),s()),T.forEach(e.$dataSets,function(e){e.queried.inProgress=!1,e.suggested&&(e.suggested.inProgress=!1)})},e.$clearTypeahead=function(){e.$term=null},e.$setActiveMatch=function(t,a){var r;T.forEach(e.$dataSets,function(i){r=e.getDataSetSource(i),r&&(r.activeIndex=i===t?a:-1)})},e.$selectMatch=function(t,a,r){var i={context:e.tgTypeaheadContext,dataSet:t,index:a,match:r,$internal:e};R.trigger("onMatchSelecting",i).then(function(){e.$term=i.match.value,e.$applyMatch(t,i.match.model),R.trigger("onMatchSelected",i),e.$eventHolder.onMatchSelected(U,i)}),e.$closePopup()},e.$selectUnknownMatch=function(t,a,r){e.$selectMatch(t,-1,a,r)},e.$applyMatch=function(t,a){var r=a;e.$dataSets.length>1&&(r=e.$getModel()||{},T.forEach(e.$dataSets,function(e){r[e.name]=e===t?a:null})),e.$setModel(r)},e.$prepareDefaultModel=function(){var t=e.$dataSets.length>1,a=null;return t&&(a={},T.forEach(e.$dataSets,function(e){a[e.name]=null})),a},e.$prepareModel=function(t){if(void 0===t)return e.$prepareDefaultModel();var a,r=1===e.$dataSets.length,i=e.$dataSets.length>1;if(r?a=e.$dataSets[0]:i&&(t&&!T.isArray(t)&&T.isObject(t)||(t={}),T.forEach(e.$dataSets,function(e){t.hasOwnProperty(e.name)||(t[e.name]=null),null!==t[e.name]&&void 0!==t[e.name]&&(a=e)})),a){var o=r?t:t[a.name];e.$term=a.queried.$getItem(o,e.$parent).value}return t},e.$prepareMatchModel=function(){},e.$getModel=function(){return m?m(U):void 0},e.$setModel=function(t,a){e.$dataHolder.modelValue=t,!a&&w&&w.$setViewValue(null),h&&h(U,t)},e.$setModelDirty=function(){w.$setDirty?w.$setDirty(!0):w.$setViewValue(w.$viewValue)},e.$waitTill=function(t){t&&t.hasOwnProperty("finally")&&(e.$closePopup(),e.$stateHolder.loader=!0,e.$stateHolder.disabled=!0,t.finally(function(){e.$stateHolder.loader=!1,e.$stateHolder.disabled=!1}))},e.$onPopupScrolled=function(){if(e.selectedDataSet){var t=e.getDataSetSource(e.selectedDataSet);t&&t.$showMore()}},e.$onOutsideClick=function(){null===e.$dataHolder.modelValue&&e.$clearTypeahead(),e.$closePopup()},e.$onKeyDown=function(t){var a=e.$stateHolder.popup.opened,r=e.$stateHolder.suggestedPopup.opened;if((a||r)&&-1!==u.indexOf(t.which)){var i,o,d,c;if(e.selectedDataSet?i=e.selectedDataSet:(T.forEach(e.$dataSets,function(t){c=e.getDataSetSource(t),c&&-1!==c.activeIndex?i=t:i?i&&!d&&(d=t):o=t}),i||(i=e.$dataSets[0])),t.preventDefault(),c=e.getDataSetSource(i))if(40===t.which){var l=Math.min(c.limit,c.matches.length);if(c.activeIndex+1<l)c.activeIndex++;else{if(!d)return;e.$setActiveMatch(d,0)}n(f),e.$digest()}else if(38===t.which){if(c.activeIndex>0)c.activeIndex--;else{if(!o)return;if(c=e.getDataSetSource(o)){var l=Math.min(c.limit,c.matches.length);e.$setActiveMatch(o,l-1)}}n(f),e.$digest()}else 13===t.which||32===t.which?i&&-1!==c.activeIndex&&(e.$selectMatch(i,c.activeIndex,c.matches[c.activeIndex],t),e.$apply()):27===t.which&&(e.$clearTypeahead(),e.$closePopup(),e.$digest())}},e.$watchModel=function(){e.$watch(e.$getModel,function(t){(void 0===t||t!==e.$dataHolder.modelValue)&&e.refreshModel(t)})},e.$trigger=R.trigger.bind(R)}function s(e,t){t.append(r('<div tg-typeahead-render-template="$templates.main.wrapper"></div>')(e));var a=function(a){if(0===t.has(a.target).length){var r=e.$templates.popup.wrapper.element,i=e.$templates.suggestedPopup.wrapper.element;(r&&0===r.has(a.target).length||i&&0===i.has(a.target).length)&&(e.$onOutsideClick(),e.$digest())}},i=function(t){e.$onKeyDown(t)};d.on("click",a),d.on("keydown",i),e.$on("$destroy",function(){e.$onOutsideClick(),T.forEach(e.$templates,function(e){e&&T.forEach(e,function(e){e&&e.appendToBody&&e.element&&e.element.remove()})}),d.off("click",a),d.off("keydown",i)}),e.$watchModel()}var u=[9,13,27,32,38,40],m=i(a.ngModel),h=m.assign,g=t.get("tgTypeaheadRenderTemplateModel"),y=t.get("tgTypeaheadMatchModel"),_=t.get("tgTypeaheadSuggestedMatchModel"),T=t.get("utilities");return{pre:p,post:s}},controller:["$scope","$element","$attrs",function(t,a,r){var i=this;i.$type="tgTypeahead",i.$name=t.tgTypeaheadId?t.tgTypeaheadId:i.$type+"_"+t.$id,i.$scope=t,i.$element=a,i.$attrs=r,i.$supportEvents=!0,this.$setHeaderTemplate=function(e){t.$templates.main.header.setTemplate(e)},this.$setFooterTemplate=function(e){t.$templates.main.footer.setTemplate(e)},this.$setPopupHeaderTemplate=function(e){t.$templates.popup.header.setTemplate(e)},this.$setPopupFooterTemplate=function(e){t.$templates.popup.footer.setTemplate(e)},this.$setSuggestedPopupHeaderTemplate=function(e){t.$templates.suggestedPopup.header.setTemplate(e)},this.$setSuggestedPopupFooterTemplate=function(e){t.$templates.suggestedPopup.footer.setTemplate(e)},this.$addDataSet=function(e){t.$dataSets.push(e),e.suggested&&(t.$stateHolder.hasSuggestions=!0)},this.$overrideFn=function(e,a){var r=t[e]||angular.noop;t[e]=function(){var e,t=this.$baseFn;return this.$baseFn=r,e=a.apply(this,arguments),this.$baseFn=t,e}},this.clear=function(){t.$clearTypeahead()},this.refreshModel=function(e){t.refreshModel(e)},e.$addInstance(i),t.$on("$destroy",function(){e.$removeInstance(i)})}]}}]).directive("tgTypeaheadDataSet",["$injector","$parse",function(e,t){return{restrict:"A",require:"^tgTypeahead",scope:{tgTypeaheadDataSet:"@",tgTypeaheadDataSetName:"@",tgTypeaheadDataSetLimitStep:"@",tgTypeaheadDataSetDisplayedItems:"@",tgTypeaheadDataSetSuggested:"@",tgTypeaheadDataSetComparator:"&"},compile:function(){function a(e){var a=e.match(o);if(!a)throw new Error("Expected typeahead specification in form of '_modelValue_ (as _label_)? for _item_ in _collection_' but got '"+e+"'.");return{expression:e,itemName:a[3],sourceMapper:t(a[4]),viewMapper:t(a[2]||a[1]),modelMapper:t(a[1])}}function r(r,i,o,d){var c=parseInt(r.tgTypeaheadDataSetLimitStep)||9999,l=parseInt(r.tgTypeaheadDataSetDisplayedItems)||c,p=a(r.tgTypeaheadDataSet),s=e.get("tgTypeaheadDataSetModel"),u=e.get("tgTypeaheadRenderTemplateModel"),m=e.get("tgTypeaheadSourceModel"),h=r.tgTypeaheadDataSetName||"dataSet_"+r.$id;if(r.$dataSet=new s(h),r.$dataSet.templates={header:new u("dataSet.header",o.tgTypeaheadDataSetHeaderTemplateUrl),item:new u("dataSet.item",o.tgTypeaheadDataSetItemTemplateUrl),footer:new u("dataSet.footer",o.tgTypeaheadDataSetFooterTemplateUrl)},r.$dataSet.queried=new m(p,l,c),r.tgTypeaheadDataSetSuggested){var g={itemName:p.itemName,sourceMapper:t(r.tgTypeaheadDataSetSuggested),viewMapper:p.viewMapper,modelMapper:p.modelMapper};r.$dataSet.suggested=new m(g,l,c)}var y=r.tgTypeaheadDataSetComparator();n.isFunction(y)&&(r.$dataSet.comparator=y),d.$addDataSet(r.$dataSet)}function i(e,t){e.$destroy(),t.remove()}var o=/^\s*(.*?)(?:\s+as\s+(.*?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+(.*)$/,n=e.get("utilities");return{pre:r,post:i}},controller:["$scope",function(e){this.$setHeaderTemplate=function(t){e.$dataSet.templates.header.setTemplate(t)},this.$setItemTemplate=function(t){e.$dataSet.templates.item.setTemplate(t)},this.$setFooterTemplate=function(t){e.$dataSet.templates.footer.setTemplate(t)}}]}}]).directive("tgTypeaheadHeader",[function(){return e("^?tgTypeahead","$setHeaderTemplate")}]).directive("tgTypeaheadFooter",[function(){return e("^?tgTypeahead","$setFooterTemplate")}]).directive("tgTypeaheadPopupHeader",[function(){return e("^?tgTypeahead","$setPopupHeaderTemplate")}]).directive("tgTypeaheadPopupFooter",[function(){return e("^?tgTypeahead","$setPopupFooterTemplate")}]).directive("tgTypeaheadDataSetHeader",[function(){return e("^?tgTypeaheadDataSet","$setHeaderTemplate")}]).directive("tgTypeaheadDataSetItem",[function(){return e("^?tgTypeaheadDataSet","$setItemTemplate")}]).directive("tgTypeaheadDataSetFooter",[function(){return e("^?tgTypeaheadDataSet","$setFooterTemplate")}]).directive("tgTypeaheadSuggestedPopupHeader",[function(){return e("^?tgTypeahead","$setSuggestedPopupHeaderTemplate")}]).directive("tgTypeaheadSuggestedPopupFooter",[function(){return e("^?tgTypeahead","$setSuggestedPopupFooterTemplate")}]).directive("tgTypeaheadRenderTemplate",["$http","$compile","$parse","$templateCache",function(e,t,a,r){return{restrict:"A",scope:!1,compile:function(i,o){function n(a,i){i.empty();var o=d(a);o&&o.template?(o.template(a,function(e){i.append(e)}),o.appendToBody&&i.detach().appendTo("body"),o.render(i)):o&&o.templateUrl?e.get(o.templateUrl,{cache:r}).success(function(e){i.append(t(e.trim())(a)),o.appendToBody&&i.detach().appendTo("body"),o.render(i)}):i.remove()}var d=a(o.tgTypeaheadRenderTemplate);return{pre:void 0,post:n}}}}]).directive("tgTypeaheadTagManager",["$injector","$parse","$q","$timeout",function(e,t,a,r){return{restrict:"A",require:["tgTypeahead","?ngModel"],scope:!1,priority:3,compile:function(){function i(e,a,r){var i={};return i.allowDuplicates=r.tgTypeaheadAllowDuplicates?"true"===r.tgTypeaheadAllowDuplicates:e&&e.allowDuplicates||!1,i.postponedSelection=r.tgTypeaheadPostponedSelection?"true"===r.tgTypeaheadPostponedSelection:e&&e.postponedSelection||!1,i.orderBy=r.tgTypeaheadTagOrderBy?t(r.tgTypeaheadTagOrderBy)(a):e&&e.orderBy||["match.value"],i.ascendingOrder=r.tgTypeaheadTagAscendingOrder?"true"===r.tgTypeaheadTagAscendingOrder:e&&e.ascendingOrder||!1,i.maxLines=r.tgTypeaheadMaxLines?Math.abs(parseInt(r.tgTypeaheadMaxLines)):e&&e.maxLines||0,i.maxSelectedTags=r.tgTypeaheadMaxSelectedTags?Math.abs(parseInt(r.tgTypeaheadMaxSelectedTags)):e&&e.maxSelectedTags||0,i.displayClean=r.tgTypeaheadDisplayClean?"true"===r.tgTypeaheadDisplayClean:e&&e.displayClean||!1,i.tagTransform=r.tgTypeaheadTagTransform?"true"===r.tgTypeaheadTagTransform:e&&e.tagTransform||!1,i.tagManagerTemplateUrl=r.tgTypeaheadTagManagerTemplateUrl?r.tgTypeaheadTagManagerTemplateUrl:e&&e.tagManagerTemplateUrl||"tg-typeahead-tag-manager.tpl.html",i.tagTemplateUrl=r.tgTypeaheadTagTemplateUrl?r.tgTypeaheadTagTemplateUrl:e&&e.tagTemplateUrl||"tg-typeahead-tag.tpl.html",i}function o(e,o,p,s){function u(){p.required&&r(function(){_.$setValidity("tagsRequired",0!==e.$tags.length)})}function m(){var t=e.$findElementInTemplate(e.$templates.main.wrapper,".tg-typeahead__input-container"),a=e.$findElementInTemplate(e.$templates.main.wrapper,".tg-typeahead__input");if(t&&a){if(1===e.$tags.length){var r=o.width(),i=function(){var t,a,i=0;return e.$findElementInTemplate(e.$templates.tagManager.wrapper,".tg-typeahead__tag").each(function(){t=angular.element(this),a=t.outerWidth()+parseInt(t.css("margin-left"))+parseInt(t.css("margin-right")),i+=a,i>r&&(i=a)}),i}();if(i>0){var n=r-i,d=100>n?r:n;return d>=9&&(d-=9),void t.css("width",d+"px")}}t.css("width","100%")}}function h(){var t=e.$findElementInTemplate(e.$templates.tagManager.wrapper,".tg-typeahead__tag-manager");if(t){var a=t.get(0);a&&t.scrollTop(a.scrollHeight)}}var g,y=s[0],_=s[1];e=y.$scope;var T=e.$parent,f=i(t(p.tgTypeaheadTagManager)(T),T,p);e.$tags=[],e.$tagsOrder=function(){return 0},f.orderBy?e.$tagsOrder=f.orderBy:f.ascendingOrder&&(e.$tagsOrder=["match.value"]),e.$templates.tagManager={wrapper:new n("tagManager.wrapper",f.tagManagerTemplateUrl),tag:new n("tagManager.tag",f.tagTemplateUrl)},e.$templates.main.header=e.$templates.tagManager.wrapper,e.$stateHolder=angular.extend(e.$stateHolder||{},{tagTransformed:!1}),e.$eventHolder=angular.extend(e.$eventHolder||{},{onTagSelected:t(p.tgTypeaheadTagSelected),onTagDeselected:t(p.tgTypeaheadTagDeselected)}),e.$getTagsText=function(){return l.select(e.$tags,function(e){return e.match.value}).join(", ")},e.$canAddTag=function(){return 0===f.maxSelectedTags||f.maxSelectedTags>e.$tags.length},e.$addTag=function(t,i){if(t&&t.match&&e.$canAddTag()){var o={context:e.tgTypeaheadContext,tag:t,sender:i||"Control",$internal:e};return y.events.emit("onTagAdding",o).then(function(){if(t.dataSet){var a=e.$getModel(),i=a;if(i){e.$dataSets.length>1&&(i=i[t.dataSet.name]);var n=-1;f.allowDuplicates||(n=l.each(i,function(e,a){return t.dataSet.comparator(e,t.match.model)?a:void 0},-1)),-1===n&&(i.push(t.match.model),e.$setModelDirty())}}return e.$tags.push(t),g&&r.cancel(g),g=r(function(){h()},50),y.events.emit("onTagAdded",o),e.$eventHolder.onTagSelected(T,o),t})}return a.when(void 0)},e.$removeTag=function(t,r){var i=e.$tags.indexOf(t);if(-1!==i){var o={context:e.tgTypeaheadContext,index:i,tag:t,sender:r||"Control",$internal:e};return y.events.emit("onTagRemoving",o).then(function(){if(t.dataSet){var a=e.$getModel(),r=a;if(e.$dataSets.length>1&&r&&(r=r[t.dataSet.name]),r){var i=-1;l.each(r,function(e,a){return t.dataSet.comparator(e,t.match.model)?a:void 0},-1),-1!==i&&(r.splice(i,1),e.$setModelDirty())}}i=e.$tags.indexOf(t),-1!==i&&(e.$tags.splice(i,1),y.events.emit("onTagRemoved",o),e.$eventHolder.onTagDeselected(T,o))})}return a.when(!1)},e.$findTag=function(t){return l.each(e.$tags,function(e){return e.dataSet.comparator(e.match.model,t.model)?e:void 0})},e.$clearTags=function(){for(var t=e.$tags.length-1;t>=0;t--)e.$removeTag(e.$tags[t])},e.hasAllSelected=function(t){var a=e.getDataSetSource(t);if(a&&a.matches.length>0){for(var r=0,i=a.matches.length;i>r;r++)if(!a.matches[r].selected)return!1;return!0}return!1},e.selectAll=function(t,a){a&&(a.stopPropagation(),a.ctrlKey=!0);var r=e.getDataSetSource(t);r&&l.forEach(r.matches,function(r,i){r.selected||e.$selectMatch(t,i,r,a)})},e.deselectAll=function(t,a){a&&(a.stopPropagation(),a.ctrlKey=!0);var r=e.getDataSetSource(t);r&&l.forEach(r.matches,function(r,i){r.selected&&e.$selectMatch(t,i,r,a)})},e.applySelections=function(t){l.forEach(t,function(t){var a=e.getDataSetSource(t);a&&l.forEach(a.matches,function(a){var r=e.$findTag(a);if(a.selected)void 0===r&&(r=new c(a,t.build()),e.$addTag(r));else{var r=e.$findTag(a);void 0!==r&&e.$removeTag(r)}})}),e.$closePopup()},y.$overrideFn("$applyMatch",function(e,t,a){a&&this.$baseFn(e,t)}),y.$overrideFn("$onOutsideClick",function(){e.$clearTypeahead(),this.$baseFn()}),y.$overrideFn("$onKeyDown",function(t){8===t.which&&null===e.$term?e.$isFocusedInput()&&e.$tags.length>0&&e.$removeTag(e.$tags[e.$tags.length-1]):this.$baseFn(t)}),y.$overrideFn("$getPlaceholder",function(){return this.$baseFn()}),y.$overrideFn("$isVisibleInput",function(){var t=this.$baseFn();return t&&f.maxSelectedTags>0&&f.maxSelectedTags<=e.$tags.length&&(t=!1),t&&e.$updateInputElement(),t}),y.$overrideFn("$isVisibleClear",function(){return f.displayClean&&e.$tags.length>1}),y.$overrideFn("$clear",function(t){this.$baseFn(t),e.$clearTags()}),y.$overrideFn("$selectMatch",function(t,a,r,i){var o={context:e.tgTypeaheadContext,dataSet:t,index:a,match:r};y.trigger("onMatchSelecting",o).then(function(){if(f.postponedSelection)r.selected=!r.selected;else{var a=e.$findTag(r);void 0===a||f.allowDuplicates?(a=new c(r,t.build()),e.$addTag(a),r.selected=!0):(e.$removeTag(a),r.selected=!1)}f.postponedSelection||i&&i.ctrlKey|i.metaKey||e.$onOutsideClick()})}),y.$overrideFn("$watchModel",function(){var t=e.$dataSets.length,a=1===t,r=t>1,i=function(t,a){var r=t.queried,i=[],o=[];l.forEach(a,function(a){var o=l.each(e.$tags,function(e){return e.dataSet.comparator(e.match.model,a)?e:void 0});if(!o){var n=r.$getItem(a,e.$parent),p=new d(a,n.model,n.value),s=new c(p,t.build());i.push(s)}}),l.forEach(e.$tags,function(e){var t=l.each(a,function(t){return e.dataSet.comparator(e.match.model,t)?t:void 0});t||o.push(e)}),l.forEach(o,function(t){e.$removeTag(t,"ModelUpdate")}),l.forEach(i,function(t){e.$addTag(t,"ModelUpdate")})};if(a)e.$watchCollection(e.$getModel,function(t){Array.isArray(t)&&t===e.$dataHolder.modelValue?i(e.$dataSets[0],t):e.refreshModel(t)});else if(r){var o;e.$watch(e.$getModel,function(t){Array.isArray(t)&&t===e.$dataHolder.modelValue||(o=e.refreshModel(t))}),l.forEach(e.$dataSets,function(t){var a=function(){return o&&o[t.name]};e.$watchCollection(a,function(e){i(t,e)})})}}),y.$overrideFn("$prepareDefaultModel",function(){var t=1===e.$dataSets.length,a=e.$dataSets.length>1,r=null;return t?r=[]:a&&(r={},l.forEach(e.$dataSets,function(e){r[e.name]=[]})),r}),y.$overrideFn("$prepareModel",function(t){if(void 0===t)return e.$prepareDefaultModel();var a=1===e.$dataSets.length,r=e.$dataSets.length>1,i=[];return a?Array.isArray(t)&&t.length>0&&i.push({dataSet:e.$dataSets[0],source:t}):r&&(t&&!l.isArray(t)&&l.isObject(t)||(t={}),l.forEach(e.$dataSets,function(e){t.hasOwnProperty(e.name)&&Array.isArray(t[e.name])||(t[e.name]=[]),t[e.name].length>0&&i.push({dataSet:e,source:t[e.name]})
})),i.length>0&&l.forEach(i,function(t){var a=t.dataSet,r=a.queried;l.forEach(t.source,function(t){var i=r.$getItem(t,e.$parent),t=new d(t,i.model,i.value),o=new c(t,a.build());e.$addTag(o,"ModelUpdate")})}),t}),y.$overrideFn("$prepareMatchModel",function(t){if(!f.allowDuplicates&&e.$tags.length>0){var a=e.$findTag(t);void 0!==a&&(t.selected=!0)}}),y.$overrideFn("$updateInputElement",function(){m(),f.maxLines>0&&(e.$tags.length>1?(e.$templates.tagManager.wrapper.class="clearfix",e.$templates.tagManager.wrapper.style={"max-height":22*f.maxLines+"px","overflow-y":"auto"}):(e.$templates.tagManager.wrapper.class=void 0,e.$templates.tagManager.wrapper.style={}))}),y.getTags=function(){var t=[];return l.forEach(e.$tags,function(e){t.push(e)}),t},y.addTag=function(t,a){var r=new c(t,a.build());return e.$addTag(r)},y.removeTag=function(t){return e.$removeTag(t)},y.clearTags=function(){e.$clearTags()},y.switchToText=function(){e.$stateHolder.tagTransformed=!0},y.switchToTags=function(){e.$stateHolder.tagTransformed=!1,r(h)},e.$watchCollection("$tags",function(){u()}),p.$observe("required",function(){u()})}var n=e.get("tgTypeaheadRenderTemplateModel"),d=e.get("tgTypeaheadMatchModel"),c=e.get("tgTypeaheadTagModel"),l=e.get("utilities");return{pre:o,post:void 0}}}}]).factory("tgTypeaheadRenderTemplateModel",["$injector",function(e){function t(e,t,a){this.name=e,this.templateUrl=t,this.template=void 0,this.appendToBody=!1,this.strictWidth=!1,this.element=void 0,this.style=void 0,this.class=void 0,this.callback=a}var a=e.get("utilities");return t.prototype.setTemplate=function(e){this.template=e},t.prototype.render=function(e){this.element=e,a.isFunction(this.callback)&&this.callback(this)},t}]).factory("tgTypeaheadDataSetModel",[function(){function e(e){this.name=e,this.data=void 0,this.templates=void 0,this.queried=void 0,this.suggested=void 0,this.comparator=function(e,t){return angular.equals(e,t)}}return e.prototype.build=function(){return{name:this.name,comparator:this.comparator}},e}]).factory("tgTypeaheadSourceModel",[function(){function e(e,t,a){this.source=e,this.matches=[],this.displayedItems=t,this.limitStep=a,this.limit=t,this.active=!0,this.activeIndex=-1,this.inProgress=!1}return e.prototype.$hasMore=function(){return this.limit<this.matches.length},e.prototype.$showAll=function(e){this.limit=this.matches.length,e&&e.stopPropagation()},e.prototype.$showMore=function(e){var t=this.limit+this.limitStep;t>this.matches.length&&(t=this.matches.length),t<this.limitStep&&(t=this.limitStep),this.limit=t,e&&e.stopPropagation()},e.prototype.$hideMore=function(e){this.limit=this.displayedItems,e&&e.stopPropagation()},e.prototype.$getItem=function(e,t){var a={},r=this.source.itemName,i=this.source.viewMapper,o=this.source.modelMapper;return a[r]=e,{model:o(t,a),value:i(t,a)}},e}]).factory("tgTypeaheadMatchModel",[function(){function e(e,t,a){this.data=e,this.model=t,this.value=a,this.selected=!1,this.disabled=!1}return e}]).factory("tgTypeaheadSuggestedMatchModel",[function(){function e(e,t,a){this.data=e,this.model=t,this.value=a,this.selected=!1,this.disabled=!1,this.suggested=!0}return e}]).factory("tgTypeaheadTagModel",[function(){function e(e,t){this.match=e,this.dataSet=t}return e}])}(),function(){"use strict";angular.module("tg.components").directive("tgWhenScrolled",["$parse",function(e){return{restrict:"A",link:function(t,a,r){var i=e(r.tgWhenScrolled);a.bind("scroll",function(e){this.scrollTop+this.offsetHeight>=this.scrollHeight&&(i(t,{$event:e}),t.$digest())})}}}])}(),angular.module("app").controller("ComponentsController",["$scope",function(){"use strict"}]),angular.module("tg.extensions").factory("$tgComponents",["tgEventsProcessor",function(e){"use strict";var t={},a=e.new();return{$addInstance:function(r){if(!r||!r.$name)throw new Error("Invalid instance or instance name.");if(t.hasOwnProperty(r.$name))throw new Error("Component with instance name `"+r.$name+"` already exist.");r.$supportEvents&&!r.hasOwnProperty("events")&&(r.events=e.new(),r.trigger=function(){var e=[];return Array.prototype.push.apply(e,arguments),e.push(r),r.events.emit.apply(r.events,e)}),t[r.$name]=r,a.emit("$onInstanceAdded",r)},$removeInstance:function(e){if(!e||!e.$name)throw new Error("Invalid instance or instance name.");if(!t.hasOwnProperty(e.$name))throw new Error("Component with instance name `"+e.$name+"` doesn't exist.");delete t[e.$name],a.emit("$onInstanceRemoved",e)},hasInstance:function(e){if(!e)throw new Error("Invalid instance name.");return t.hasOwnProperty(e)},getInstance:function(e){if(!this.hasInstance(e))throw new Error("Component with instance name `"+e+"` doesn't exist.");return t[e]||null},getInstances:function(){var e=[];for(var a in t)e.push(t[a]);return e},events:a}}]).factory("tgEventsProcessor",["$q",function(e){"use strict";function t(){this.handlers={},this.on=function(e,t){if(angular.isString(e)&&e.length>0&&angular.isFunction(t)){this.handlers.hasOwnProperty(e)||(this.handlers[e]=[]);var a=this.handlers[e];return a.push(t),function(){var e=a.indexOf(t);-1!==e&&a.splice(e,1)}}},this.emit=function(t){var a=[];if(angular.isString(t)&&t.length>0&&this.handlers.hasOwnProperty(t)){var r=[];Array.prototype.push.apply(r,arguments),r.shift(),angular.forEach(this.handlers[t],function(e){var t=e.apply(this,r);if(t){var i=t.hasOwnProperty("then")&&angular.isFunction(t.then);i&&a.push(t)}})}return e.all(a)},this.clear=function(e,t){if(void 0!==e){if(angular.isString(e)&&e.length>0)if(angular.isFunction(t)){var a=this.handlers[e].indexOf(t);-1!==a&&this.handlers[e].splice(a,1)}else delete this.handlers[e]}else this.handlers={}}}return{"new":function(){return new t}}}]),angular.module("app").controller("HomeController",["$scope",function(){"use strict"}]);